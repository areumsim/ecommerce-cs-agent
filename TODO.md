# ğŸ“˜ ìƒí’ˆ ìƒë‹´ & ì£¼ë¬¸ ê´€ë¦¬ Agent - ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ

- ìƒíƒœ ìŠ¤ëƒ…ìƒ·(2025-12 ì—…ë°ì´íŠ¸): í”„ë ˆì„ì›Œí¬/í•µì‹¬ ê¸°ëŠ¥ ëŒ€ë¶€ë¶„ êµ¬í˜„(LLM/ê°€ë“œë ˆì¼/RAG/ìŠ¤í† ë¦¬ì§€/ì—”ë“œí¬ì¸íŠ¸), ë¡œì»¬ì—ì„œ ìŠ¤ëª¨í¬/pytestë¡œ ê²€ì¦ ê¶Œì¥

## âœ… í˜„ì¬ ì§„í–‰ ìƒí™©

**ì™„ë£Œ í•­ëª©:**
- ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰: `python scripts/02_full_preprocess_stream.py`
  - ìƒì„±ë¬¼: `data/processed/products.parquet`(~203MB), `reviews.parquet`(~7.5GB), `reviews_agg.parquet`(~19MB)
- ìŠ¤ëª¨í¬ ë„êµ¬ ì¶”ê°€: `scripts/smoke_api.sh` (í—¬ìŠ¤/ì •ì±… ê²€ìƒ‰ ìë™ ì ê²€)
- ì •ì±… í¬ë¡¤/ì¸ë±ì‹± êµ¬ì¡° ì™„ë£Œ:
  - `python scripts/01a_crawl_policies.py` â†’ `data/processed/policies.jsonl` ìƒì„±(placeholder 1ê±´)
  - `python scripts/04_build_index.py` â†’ `data/processed/policies_index.jsonl` ìƒì„±(1 ì²­í¬)
- CSV-ìš°ì„ (Mock) ì €ì¥ì†Œ ì™„ì„±: 8ê°œ í…Œì´ë¸” (`data/mock_csv/*`)
- API ì„œë²„ ì™„ì„±: 11ê°œ ì—”ë“œí¬ì¸íŠ¸ (`api.py`)
- Agent ë…¸ë“œ ë° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° êµ¬ì¡° ì™„ì„± (`src/agents/`)
- UI(Gradio) ëŒ€í™”í˜• ë°ëª¨ ì™„ì„± (`ui.py`)
- E2E ìŠ¤í¬ë¦½íŠ¸ ì™„ì„± (`scripts/08_e2e_order_claim.py`)
- API ìŠ¤ëª¨í¬(ë‚´ì¥ TestClient) í™•ì¸: `/healthz` 200, `/policies/search` 200
- **LLM í†µí•© ì™„ë£Œ (100%)**:
  - `src/llm/client.py`: OpenAI/Anthropic/ë¡œì»¬ LLM ì§€ì›
  - `src/agents/orchestrator.py`: LLM ê¸°ë°˜ ì‘ë‹µ ìƒì„±
  - `configs/llm.yaml`: LLM ì„¤ì • íŒŒì¼
  - `configs/prompts/`: ì‹œìŠ¤í…œ/ì˜ë„ë³„ í”„ë¡¬í”„íŠ¸
- **ê°€ë“œë ˆì¼ ê°•í™” ì™„ë£Œ (100%)**:
  - `src/guardrails/input_guards.py`: PII ë§ˆìŠ¤í‚¹, í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜ ë°©ì–´
  - `src/guardrails/output_guards.py`: ì¶œë ¥ ê²€ì¦, ë¯¼ê°ì •ë³´ í•„í„°ë§, í†¤ ê²€ì¦
  - `src/guardrails/pipeline.py`: ì •ì±… ì¤€ìˆ˜ ì²´í¬ ì‹¤ì§ˆí™”
- **pytest í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì œê³µ**:
  - `tests/test_api.py`, `tests/test_guardrails.py`, `tests/test_orchestrator.py`, `tests/test_csv_repository.py` ë“± í¬í•¨
  - ë¡œì»¬ í™˜ê²½ì—ì„œ `pytest -q`ë¡œ ì‹¤í–‰í•˜ì—¬ í†µê³¼ ì—¬ë¶€ í™•ì¸

**ë¯¸ì™„ë£Œ í•­ëª©:**
- **íŒŒì¸íŠœë‹ (ì„ íƒ, GPU í•„ìš”)**:
  - í•™ìŠµ ë°ì´í„°: 88ê°œ ìƒ˜í”Œ (`data/training/`)
  - Axolotl ì„¤ì •: `configs/axolotl_config.yaml`
  - í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸: `scripts/06_train.sh`
  - ë³‘í•© ìŠ¤í¬ë¦½íŠ¸: `scripts/07_merge_lora.sh`
  - í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸: `scripts/08_test_finetuned_model.py`

**í˜„ì¬ í•œê³„ì :**
- ì˜ë„ ë¶„ë¥˜ê°€ ì •ê·œì‹+í‚¤ì›Œë“œ ê¸°ë°˜ (LLM ê¸°ë°˜ ë¶„ë¥˜ëŠ” ì¶”í›„ ê°œì„  ê°€ëŠ¥)

## â–¶ ë‹¤ìŒ ë‹¨ê³„(ìš°ì„ ìˆœìœ„)
1) LLM ë¶„ë¥˜/ì‘ë‹µ í’ˆì§ˆ ê°œì„ (ë¦¬ë­ì»¤/í‰ê°€ ìë™í™”)
2) ì •ì±… ë°ì´í„°/ì¸ë±ìŠ¤ ì£¼ê¸°ì  ê°±ì‹  ë° í’ˆì§ˆ ì¸¡ì •
3) ê°€ë“œë ˆì¼ ê·œì¹™/ì •ì±… ìœ„ë°˜ íƒì§€ ì •ë°€í™”
4) (ì„ íƒ) íŒŒì¸íŠœë‹ - GPU ê°€ìš© ì‹œ (`data/training/` í•™ìŠµ ë°ì´í„° ì¤€ë¹„ë¨)

---

## ğŸ“‹ ìƒì„¸ ê°œë°œ ê³„íš

### Phase 1: LLM í†µí•© âœ… ì™„ë£Œ

**ëª©í‘œ**: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì— LLM í˜¸ì¶œì„ ì¶”ê°€í•˜ì—¬ ì§€ëŠ¥í˜• ì‘ë‹µ ìƒì„±

| íŒŒì¼ | ì‘ì—… ë‚´ìš© | ìƒíƒœ |
|------|----------|------|
| `src/llm/client.py` | LLM í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (OpenAI/Anthropic/Local ì§€ì›) | âœ… |
| `src/llm/__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… |
| `src/agents/orchestrator.py` | LLM í˜¸ì¶œ ì¶”ê°€, ì‘ë‹µ ìƒì„± | âœ… |
| `configs/llm.yaml` | LLM ì„¤ì • íŒŒì¼ (í”„ë¡œë°”ì´ë”, ëª¨ë¸, API í‚¤) | âœ… |
| `configs/prompts/system.txt` | ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ | âœ… |
| `configs/prompts/order.txt` | ì£¼ë¬¸ ê´€ë ¨ í”„ë¡¬í”„íŠ¸ | âœ… |
| `configs/prompts/claim.txt` | í´ë ˆì„ ê´€ë ¨ í”„ë¡¬í”„íŠ¸ | âœ… |
| `configs/prompts/policy.txt` | ì •ì±… ê²€ìƒ‰ í”„ë¡¬í”„íŠ¸ | âœ… |

**ì‚¬ìš©ë²•**:
1. `configs/llm.yaml`ì—ì„œ í”„ë¡œë°”ì´ë” ì„ íƒ (openai/anthropic/local)
2. í•´ë‹¹ í”„ë¡œë°”ì´ë”ì˜ `api_key` ì…ë ¥
3. API ì„œë²„ ì‹¤í–‰: `uvicorn api:app --reload`
4. ì±„íŒ… í…ŒìŠ¤íŠ¸: `POST /chat {"user_id": "test", "message": "í™˜ë¶ˆ ì •ì±… ì•Œë ¤ì¤˜"}`

**ê²°ê³¼**:
- "í™˜ë¶ˆ ì •ì±… ì•Œë ¤ì¤˜" â†’ LLMì´ ì •ì±… ê²€ìƒ‰ ê²°ê³¼ ê¸°ë°˜ ìì—°ì–´ ì‘ë‹µ ìƒì„± âœ…
- "ì£¼ë¬¸ ìƒíƒœ í™•ì¸" â†’ ì£¼ë¬¸ ë°ì´í„° + LLM ìš”ì•½ ì‘ë‹µ âœ…

### Phase 2: ì •ì±… ë°ì´í„° í™•ë³´ ë° ì¸ë±ìŠ¤ ê°±ì‹  âœ… ì™„ë£Œ

**ëª©í‘œ**: í•œêµ­ì–´ ì •ì±… ë°ì´í„° í™•ë³´ ë° ê²€ìƒ‰ í’ˆì§ˆ í–¥ìƒ

| íŒŒì¼ | ì‘ì—… ë‚´ìš© | ìƒíƒœ |
|------|----------|------|
| `data/processed/policies.jsonl` | í•œêµ­ì–´ ì •ì±… 15ê°œ ë¬¸ì„œ | âœ… |
| `data/processed/policies_index.jsonl` | ê²€ìƒ‰ ì¸ë±ìŠ¤ 15 ì²­í¬ | âœ… |
| `data/training/policy_qa.jsonl` | í•™ìŠµìš© QA 50+ ìŒ | âœ… |
| `data/training/policy_chat.jsonl` | ëŒ€í™”í˜• í•™ìŠµ ë°ì´í„° 20+ | âœ… |

**ì •ì±… ë¬¸ì„œ ëª©ë¡**:
- í™˜ë¶ˆ ì •ì±…, ë°°ì†¡ ì •ì±…, êµí™˜ ì •ì±…, ê²°ì œ ì •ì±…
- íšŒì› ë“±ê¸‰ ì •ì±…, ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨, ìƒí’ˆ ë¶ˆëŸ‰ ì²˜ë¦¬ ì •ì±…
- ê³ ê°ì„¼í„° ì´ìš© ì•ˆë‚´, ì£¼ë¬¸ ì·¨ì†Œ ì •ì±…, ì ë¦½ê¸ˆ/ì¿ í° ì •ì±…
- FAQ 5ì¢… (ì£¼ë¬¸/ê²°ì œ, ë°°ì†¡, ë°˜í’ˆ/í™˜ë¶ˆ/êµí™˜, íšŒì›/ê³„ì •, ìƒí’ˆ ë¬¸ì˜)

**ì¸ë±ìŠ¤ ì¬ìƒì„±**: `python scripts/04_build_index.py`

### Phase 3: ê°€ë“œë ˆì¼ ê°•í™” âœ… ì™„ë£Œ

**ëª©í‘œ**: ì •ì±… ì¤€ìˆ˜ ì²´í¬ ì‹¤ì§ˆí™”

| íŒŒì¼ | ì‘ì—… ë‚´ìš© | ìƒíƒœ |
|------|----------|------|
| `src/guardrails/input_guards.py` | PII ë§ˆìŠ¤í‚¹, í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜ ë°©ì–´ | âœ… |
| `src/guardrails/output_guards.py` | ì¶œë ¥ ê²€ì¦, ë¯¼ê°ì •ë³´ í•„í„°ë§, í†¤ ê²€ì¦ | âœ… |
| `src/guardrails/pipeline.py` | ì •ì±… ì¤€ìˆ˜ ì²´í¬ ì‹¤ì§ˆí™” | âœ… |
| `src/guardrails/__init__.py` | ëª¨ë“ˆ ê³µê°œ API ì •ì˜ | âœ… |
| `src/agents/orchestrator.py` | ì…ë ¥ ê°€ë“œ í†µí•© | âœ… |

**êµ¬í˜„ëœ ê¸°ëŠ¥**:
- **ì…ë ¥ ê°€ë“œ (input_guards.py)**:
  - PII íƒì§€/ë§ˆìŠ¤í‚¹: íœ´ëŒ€í°, ìœ ì„ ì „í™”, ì´ë©”ì¼, ì£¼ë¯¼ë²ˆí˜¸, ì¹´ë“œë²ˆí˜¸, ê³„ì¢Œë²ˆí˜¸, ì—¬ê¶Œë²ˆí˜¸, ìš´ì „ë©´í—ˆë²ˆí˜¸
  - í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜ íƒì§€: ì—­í•  ë³€ê²½, ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ëˆ„ì¶œ, ì½”ë“œ ì‹¤í–‰ ì‹œë„ íŒ¨í„´
  - ê¸ˆì§€ì–´ í•„í„°ë§: ìš•ì„¤/í˜ì˜¤ í‘œí˜„
  - ì…ë ¥ ê¸¸ì´ ì œí•œ: 1~2000ì
- **ì¶œë ¥ ê°€ë“œ (output_guards.py)**:
  - ë¯¼ê° ì •ë³´ ëˆ„ì¶œ ë°©ì§€: ì‹œìŠ¤í…œ ê²½ë¡œ, API í‚¤, ì—ëŸ¬ ë©”ì‹œì§€
  - í†¤ ê²€ì¦: ì¡´ëŒ“ë§ ë¹„ìœ¨ ì²´í¬
  - ì‚¬ì‹¤ ì •í•©ì„± ê²€ì¦: ì»¨í…ìŠ¤íŠ¸ ë°ì´í„°ì™€ ì‘ë‹µ ë¹„êµ
  - PII ì‘ë‹µ ë§ˆìŠ¤í‚¹
- **ì •ì±… ì¤€ìˆ˜ (pipeline.py)**:
  - ì •ì±… ì»¨í…ìŠ¤íŠ¸ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
  - ì •ì±… ìœ í˜• ë§¤ì¹­ (í™˜ë¶ˆ/ë°°ì†¡/ê²°ì œ/íšŒì›/ê°œì¸ì •ë³´)
  - ì •ì±… ìœ„ë°˜ íŒ¨í„´ íƒì§€ (ì˜ëª»ëœ í™˜ë¶ˆ ê¸°ê°„, ë¬´ì¡°ê±´ í™˜ë¶ˆ ì•½ì† ë“±)

### Phase 4: íŒŒì¸íŠœë‹ (ì¤€ë¹„ ì™„ë£Œ, GPU í•„ìš”)

**ëª©í‘œ**: ë„ë©”ì¸ íŠ¹í™” ì‘ë‹µ í’ˆì§ˆ í–¥ìƒ

| íŒŒì¼ | ì‘ì—… ë‚´ìš© | ìƒíƒœ |
|------|----------|------|
| `data/training/policy_qa.jsonl` | ì •ì±… QA í•™ìŠµ ë°ì´í„° (48ê°œ) | âœ… |
| `data/training/policy_chat.jsonl` | ì±„íŒ… í˜•ì‹ í•™ìŠµ ë°ì´í„° (20ê°œ) | âœ… |
| `data/training/order_claim_qa.jsonl` | ì£¼ë¬¸/í´ë ˆì„ í•™ìŠµ ë°ì´í„° (20ê°œ) | âœ… |
| `configs/axolotl_config.yaml` | QLoRA íŒŒì¸íŠœë‹ ì„¤ì • | âœ… |
| `scripts/06_train.sh` | í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ | âœ… |
| `scripts/07_merge_lora.sh` | LoRA ë³‘í•© ìŠ¤í¬ë¦½íŠ¸ | âœ… |
| `scripts/08_test_finetuned_model.py` | ëª¨ë¸ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ | âœ… |

**ì‹¤í–‰ ë°©ë²•** (GPU í•„ìš”):
```bash
# 1. Axolotl ì„¤ì¹˜
pip install axolotl

# 2. í•™ìŠµ ì‹¤í–‰
bash scripts/06_train.sh

# 3. LoRA ë³‘í•© (ì„ íƒ)
bash scripts/07_merge_lora.sh

# 4. ëª¨ë¸ í…ŒìŠ¤íŠ¸
python scripts/08_test_finetuned_model.py --interactive
```

**í•™ìŠµ ì„¤ì • ìš”ì•½**:
- ê¸°ë³¸ ëª¨ë¸: `beomi/Llama-3-Open-Ko-8B` (í•œêµ­ì–´ LLaMA)
- ë°©ë²•: QLoRA (4bit ì–‘ìí™”)
- í•™ìŠµ ë°ì´í„°: 88ê°œ ìƒ˜í”Œ
- Epoch: 3
- Learning Rate: 2e-4

### Phase 5: pytest í…ŒìŠ¤íŠ¸ âœ… ì™„ë£Œ

| íŒŒì¼ | ì‘ì—… ë‚´ìš© | ìƒíƒœ |
|------|----------|------|
| `tests/__init__.py` | í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ ì´ˆê¸°í™” | âœ… |
| `tests/conftest.py` | pytest ì„¤ì • ë° ê³µí†µ fixture | âœ… |
| `tests/test_api.py` | API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ (15ê°œ) | âœ… |
| `tests/test_guardrails.py` | ê°€ë“œë ˆì¼ í…ŒìŠ¤íŠ¸ (24ê°œ) | âœ… |
| `tests/test_orchestrator.py` | ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° í…ŒìŠ¤íŠ¸ (10ê°œ) | âœ… |
| `tests/test_csv_repository.py` | CSV ì €ì¥ì†Œ í…ŒìŠ¤íŠ¸ (7ê°œ) | âœ… |

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: `python -m pytest tests/ -v`

**í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**:
- ì´ 56ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼
- API ì—”ë“œí¬ì¸íŠ¸: í—¬ìŠ¤ì²´í¬, ì •ì±… ê²€ìƒ‰, ì£¼ë¬¸, í‹°ì¼“, ì±„íŒ…
- ê°€ë“œë ˆì¼: PII ë§ˆìŠ¤í‚¹, ì¸ì ì…˜ íƒì§€, ì¶œë ¥ ê²€ì¦, ì •ì±… ì¤€ìˆ˜
- ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°: ì˜ë„ë³„ ì²˜ë¦¬, í¬ë§·íŒ…, ì…ë ¥ ê°€ë“œ í†µí•©

---

### ğŸ” ê²€ì¦ ë°©ë²•(ìš”ì•½)
- ì •ì±… ë°ì´í„°/ì¸ë±ìŠ¤ ìƒì„±:
  - `python scripts/01a_crawl_policies.py && python scripts/04_build_index.py`
- API ìŠ¤ëª¨í¬(í¬íŠ¸ ì ìœ  ì´ìŠˆ íšŒí”¼ìš© ë‚´ì¥ TestClient):
  - Python ì‹¤í–‰ í›„
    ```python
    from fastapi.testclient import TestClient
    from api import app
    c = TestClient(app)
    assert c.get('/healthz').status_code == 200
    assert c.get('/policies/search', params={'q':'refund','top_k':3}).status_code == 200
    ```
- ë¡œì»¬ ì„œë²„ ìŠ¤ëª¨í¬(í¬íŠ¸ ì—¬ìœ  ì‹œ):
  - `uvicorn api:app --reload` â†’ `bash scripts/smoke_api.sh`

> ì°¸ê³ : ìƒìœ„ ì„¤ê³„Â·ë²”ìœ„Â·ìˆ˜ìš© ê¸°ì¤€ì€ `PRD.md`, ê°œë°œ ê·œì¹™ì€ `AGENTS.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ğŸ§­ ìš´ì˜ ì „ëµ ì—…ë°ì´íŠ¸: DB í›„ìˆœìœ„, CSV-ìš°ì„ (Mock) ì €ì¥ì†Œ ê³„íš

ë³¸ PoCëŠ” ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•ì„ í›„ìˆœìœ„ë¡œ ë¯¸ë£¨ê³ , ê¸°ëŠ¥ ê²€ì¦(E2E)ì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ CSV ê¸°ë°˜ì˜ Mock ì €ì¥ì†Œë¥¼ ìš°ì„  ë„ì…í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì€ ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡ ì¶”ìƒí™”í•˜ì—¬, ì¶”í›„ DB ì „í™˜ ì‹œ ì½”ë“œ ë³€ê²½ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

### ëª©í‘œ ë° ë²”ìœ„
- ëª©í‘œ: ì£¼ë¬¸/í´ë ˆì„/ëŒ€í™” íë¦„ì„ CSVë§Œìœ¼ë¡œ ë¹ ë¥´ê²Œ ê²€ì¦í•˜ê³ , RAG/ì—ì´ì „íŠ¸ ê¸°ëŠ¥ê³¼ì˜ í†µí•©ì„ ê°€ì†í™”
- ë²”ìœ„: Users/Orders/OrderItems/Cart/Wishlist/Tickets/Conversations/ProductsCacheë¥¼ CSVë¡œ ê´€ë¦¬(ì •ì  ì½”í¼ìŠ¤ëŠ” Parquet ìœ ì§€)
- ì „í™˜: `storage_backend` ìŠ¤ìœ„ì¹˜(csv â†’ sql)ë¡œ ë¬´ì¤‘ë‹¨ ì „í™˜ ê°€ëŠ¥í•˜ë„ë¡ ì¸í„°í˜ì´ìŠ¤ ê³ ì •

### í´ë”/íŒŒì¼ êµ¬ì¡° (ì¶”ê°€)
```
data/mock_csv/
  users.csv
  products_cache.csv
  orders.csv
  order_items.csv
  cart.csv
  wishlist.csv
  support_tickets.csv
  conversations.csv

src/mock_system/storage/
  interfaces.py        # Repository ì¸í„°í˜ì´ìŠ¤
  csv_repository.py    # CSV êµ¬í˜„ì²´

configs/mock.yaml      # storage_backend, data_dir ë“± ì„¤ì •
```

### CSV ìŠ¤í‚¤ë§ˆ(í—¤ë”)
- users.csv: `user_id,name,email,created_at,preferences_json`
- products_cache.csv: `product_id,title,brand,category,price,image_url,avg_rating,stock_quantity`
- orders.csv: `order_id,user_id,status,order_date,delivery_date,total_amount,shipping_address,created_at`
- order_items.csv: `id,order_id,product_id,quantity,unit_price`
- cart.csv: `id,user_id,product_id,quantity,added_at`
- wishlist.csv: `id,user_id,product_id,added_at`
- support_tickets.csv: `ticket_id,user_id,order_id,issue_type,description,status,priority,created_at,resolved_at`
- conversations.csv: `id,session_id,user_id,messages_json,created_at,updated_at`

### ì„¤ê³„ ì›ì¹™
- ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤ ê³ ì •: `*Repository` ì¸í„°í˜ì´ìŠ¤ì™€ ì„œë¹„ìŠ¤ ê³„ì¸µ ë¶„ë¦¬(DI)
- ì¼ê´€ì„±: ë¡œë“œ ì‹œ ì°¸ì¡° ë¬´ê²°ì„± ì²´í¬(ì˜ˆ: orders.user_id âˆˆ users)
- ë™ì‹œì„±: ë‹¨ì¼ ë¼ì´í„° ê·œì¹™, íŒŒì¼ ë½ê³¼ ì„ì‹œíŒŒì¼ êµì²´(tmp â†’ rename)
- ì§ë ¬í™”: JSON í•„ë“œ ë¬¸ìì—´ ì €ì¥(`*_json`), ë‚ ì§œëŠ” ISO8601
- ì„±ëŠ¥: PoC ë²”ìœ„ì˜ íŒŒì¼ í¬ê¸° ìœ ì§€, í•„ìš”ì‹œ íŒŒí‹°ì…”ë‹(`orders_YYYY.csv`)
- ë°±ì—…: `data/mock_csv/.snapshots/` ìŠ¤ëƒ…ìƒ· ì˜µì…˜(ìˆ˜ë™)

### ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš (CSV-ìš°ì„ )
1) ìŠ¤ìºí´ë”© ë° ì‹œë“œ ë°ì´í„° ìƒì„±
   - `data/mock_csv/*` í—¤ë” + ì†ŒëŸ‰ ì‹œë“œ ë ˆì½”ë“œ ìƒì„±
   - `interfaces.py` ì •ì˜, `csv_repository.py` ê³µí†µ CSV I/O ìœ í‹¸
2) ì„œë¹„ìŠ¤ ì£¼ì… ë° ì‹œë‚˜ë¦¬ì˜¤ ë™ì‘
   - `user_service.py`, `order_service.py`, `ticket_service.py`, `inventory_service.py`ì— ì €ì¥ì†Œ ì£¼ì…
   - ì£¼ë¬¸ ì¡°íšŒ/ìƒíƒœ/ì·¨ì†Œ, í‹°ì¼“ ìƒì„± ê¸°ë³¸ í”Œë¡œìš°
3) E2E ì—°ë™
   - ì—ì´ì „íŠ¸ ë…¸ë“œì—ì„œ ì£¼ë¬¸/í‹°ì¼“ ë„êµ¬ í˜¸ì¶œ â†’ ì‘ë‹µ í•©ì„±
   - ì •ì±… ê²€ìƒ‰ê³¼ ê²°í•©í•˜ì—¬ ê°€ë“œ ì¶œë ¥ ë¬¸êµ¬ í¬í•¨
4) ì „í™˜ ì¤€ë¹„
   - `sql_repository.py`(í›„ì†): ë™ì¼ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
   - CSV â†’ DB ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸(ë¬´ê²°ì„±/ì¤‘ë³µ ê²€ì‚¬)

### ìˆ˜ìš© ê¸°ì¤€(ìƒ˜í”Œ)
- ì£¼ë¬¸ ì¡°íšŒ: `get_user_orders(user_id)`ê°€ CSVì—ì„œ 100% ì¼ì¹˜í•˜ëŠ” ê²°ê³¼ ë°˜í™˜
- ì·¨ì†Œ ìš”ì²­: ìƒíƒœ ì „ì´ ê·œì¹™(Mock) ì ìš©, CSV ë°˜ì˜ í™•ì¸
- í´ë ˆì„ ìƒì„±: í‹°ì¼“ ë ˆì½”ë“œ ìƒì„± ë° ì¡°íšŒ ê°€ëŠ¥
- ì—ì´ì „íŠ¸: ì£¼ë¬¸/í´ë ˆì„/ì •ì±… ëŒ€í™” ì‹œë‚˜ë¦¬ì˜¤ê°€ CSV ì €ì¥ì†Œë¡œ ì™„ì£¼

### ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘
- ë™ì‹œì„±/íŒŒì¼ ì†ìƒ â†’ íŒŒì¼ ë½ + ì„ì‹œíŒŒì¼ êµì²´, ë‹¨ì¼ ì“°ê¸° ìŠ¤ë ˆë“œ
- FK ë¬´ê²°ì„± ë¯¸ë³´ì¥ â†’ ë¡œë“œ/ì“°ê¸° ì‹œ ê²€ì¦, ì‹œë“œ ìƒì„± ì‹œ êµì°¨ í™•ì¸
- ì„±ëŠ¥ ì œì•½ â†’ PoC ìŠ¤ì¼€ì¼ ìœ ì§€, í•„ìš” ì‹œ íŒŒí‹°ì…”ë‹/ì¸ë©”ëª¨ë¦¬ ì¸ë±ìŠ¤ ì‚¬ìš©

### ì§„í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸ (2025-12 ì—…ë°ì´íŠ¸)

**í”„ë ˆì„ì›Œí¬ ì™„ì„±ë„: ~90%** | **í•µì‹¬ ê¸°ëŠ¥ ì™„ì„±ë„: ~30%**

#### ì™„ë£Œ (í”„ë ˆì„ì›Œí¬/ìŠ¤ì¼ˆë ˆí†¤)
- [x] CSV ì €ì¥ì†Œ ìŠ¤ìºí´ë”© (`interfaces.py`, `csv_repository.py`)
- [x] ì‹œë“œ CSV ì‘ì„± (`data/mock_csv/*` - 8ê°œ í…Œì´ë¸”)
- [x] ì£¼ë¬¸/ì¬ê³ /í‹°ì¼“ ì„œë¹„ìŠ¤ (CSV ë°±ì—”ë“œ)
- [x] ì—ì´ì „íŠ¸ ë„êµ¬ ê³„ì¸µ ì—°ê²° (`agents/tools/order_tools.py` - 8ê°œ í•¨ìˆ˜)
- [x] ì£¼ë¬¸/í´ë ˆì„ ë…¸ë“œ ì´ˆì•ˆ (`agents/nodes/order_agent.py`, `claim_agent.py`)
- [x] ì •ì±… í¬ë¡¤/ê°€ê³µ ìŠ¤ìºí´ë”© (`crawler.py`, `01a_crawl_policies.py`)
- [x] ì •ì±… ì¸ë±ìŠ¤ ë¹Œë“œ (`src/rag/indexer.py`, `scripts/04_build_index.py`)
- [x] ì •ì±… ë¡œì»¬ ë¦¬íŠ¸ë¦¬ë²„ (`src/rag/retriever.py`)
- [x] ì •ì±… ì¸ë±ìŠ¤ RAG í†µí•© (ì •ì±… ì»¬ë ‰ì…˜ ë¡œë”©/ê²€ìƒ‰ API ë…¸ì¶œ)
- [x] ì£¼ë¬¸/í´ë ˆì„ E2E ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ (`scripts/08_e2e_order_claim.py`)

#### ì§„í–‰ ì¤‘/ê°œì„  ëŒ€ìƒ (í•µì‹¬ ê¸°ëŠ¥)
- [ ] **LLM í’ˆì§ˆ ê°œì„ **: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°/ê°€ë“œë ˆì¼ í†µí•© ìœ ì§€, ë¶„ë¥˜ ì •ë°€ë„ í–¥ìƒ
- [ ] **ì •ì±… ë°ì´í„° í’ˆì§ˆ**: ë¬¸ì„œ/ì²­í¬ í™•ì¥, ê²€ìƒ‰ í’ˆì§ˆ ì ê²€ ë° íŠœë‹
- [ ] **íŒŒì¸íŠœë‹(ì„ íƒ)**: ë°ì´í„° í™•ì¥/í•™ìŠµ/í‰ê°€ ìë™í™”
- [ ] **pytest ì»¤ë²„ë¦¬ì§€ ê°œì„ **: ìë™í™” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë³´ê°•

## ğŸ•¸ï¸ ë°ì´í„° í¬ë¡¤ë§ â†’ Mock ë™ê¸°í™” íŒŒì´í”„ë¼ì¸ (ì˜µì…˜)

### ëª©ì 
- ì •ì±…/FAQì™€(ë‚®ì€ ë¦¬ìŠ¤í¬) ì¼ë¶€ ìƒí’ˆ ì†ì„±(ì„ íƒ)ì„ ê²½ëŸ‰ í¬ë¡¤ë§ìœ¼ë¡œ ë³´ê°•í•˜ê³ , ì´ë¥¼ Mock/ì¸ë±ìŠ¤ì— ë°˜ì˜

### ë²”ìœ„
- 1ì°¨: í™˜ë¶ˆ/ë°°ì†¡/FAQ ì •ì±… í˜ì´ì§€ë§Œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¡œ ìˆ˜ì§‘
- 2ì°¨(ì„ íƒ): ì œí•œëœ ë„ë©”ì¸ì˜ ìƒí’ˆ ìƒì„¸(ìŠ¤í™/íŠ¹ì¥ì ) ì†ŒëŸ‰ íŒŒì¼ëŸ¿

### ì‚°ì¶œë¬¼
- Raw: `data/raw/crawled/{domain}/...` (HTML/ë©”íƒ€)
- Processed: `data/processed/policies.jsonl`, `data/processed/product_features.jsonl`
- Mock ë™ê¸°í™”: `data/mock_csv/products_cache.csv` ê°±ì‹ (ì¡´ì¬ ì œí’ˆ ì†ì„±/í‰ì /ì¬ê³  ë³´ê°•)

### íŒŒì´í”„ë¼ì¸
1) ìˆ˜ì§‘: robots.txt ì¤€ìˆ˜, ë ˆì´íŠ¸ë¦¬ë°‹/ì¬ì‹œë„ ì ìš©
2) ì •ì œ: ë³¸ë¬¸ ì¶”ì¶œ, íƒœê·¸/ìŠ¤í¬ë¦½íŠ¸ ì œê±°, ë…¸ì´ì¦ˆ í•„í„°
3) êµ¬ì¡°í™”: ì •ì±…(ì œëª©/ì„¹ì…˜/í‚¤-ë°¸ë¥˜), ìƒí’ˆ(ìŠ¤í™ í‚¤-ê°’, í¬ì¸íŠ¸) ë³€í™˜
4) ìŠ¤í‚¤ë§ˆ ë§¤í•‘: ì œí’ˆID/ë¸Œëœë“œ/ì¹´í…Œê³ ë¦¬ ì •í•©ì„± í™•ì¸
5) ë°˜ì˜: Mock CSV ì—…ë°ì´íŠ¸ ë° RAG ì¸ë±ìŠ¤(ì •ì±… ì»¬ë ‰ì…˜) ë¹Œë“œ

### ìˆ˜ìš© ê¸°ì¤€(ìƒ˜í”Œ)
- ì •ì±… í¬ë¡¤: ìµœì†Œ 1ê°œ ë„ë©”ì¸ ì •ì±… 3ì¢…(í™˜ë¶ˆ/ë°°ì†¡/FAQ) ìˆ˜ì§‘ í›„ `policies.jsonl`ì— ì €ì¥
- Mock ë°˜ì˜: `products_cache.csv` ê°±ì‹  ì‹œ ê¸°ì¡´ ë ˆì½”ë“œ ìœ ì§€ + ëˆ„ë½ í•„ë“œë§Œ ë³´ê°•, ì´ ë ˆì½”ë“œ ìˆ˜ ë¶ˆë³€

### ë¦¬ìŠ¤í¬/ëŒ€ì‘
- ë²•/ì •ì±…: ë„ë©”ì¸ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ + ë‚´ë¶€ ì‚¬ìš© í•œì •, ì¶œì²˜/ìˆ˜ì§‘ì¼ ê¸°ë¡
- ë³€ë™ì„±: ì…€ë ‰í„° íŒŒì† ëŒ€ë¹„ ë³¸ë¬¸ ì¶”ì¶œ ë°±ì—… ë¡œì§(ë‹¨ìˆœ í…ìŠ¤íŠ¸ ì¶”ì¶œ) ìœ ì§€
- í’ˆì§ˆ: ì¤‘ë³µ/ì˜¤ë˜ëœ ì •ë³´ ì œê±°, ìµœì‹  ì •ì±… ìš°ì„ , ì¶œì²˜ ëª…ì‹œ


## 1ï¸âƒ£ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ecommerce-agent/
â”œâ”€â”€ ğŸ“ configs/
â”‚   â”œâ”€â”€ axolotl_config.yaml          # íŒŒì¸íŠœë‹ ì„¤ì •
â”‚   â”œâ”€â”€ qdrant_config.yaml           # Vector DB ì„¤ì •
â”‚   â”œâ”€â”€ policies/                    # ì •ì±… ë¬¸ì„œë“¤
â”‚   â”‚   â”œâ”€â”€ refund_policy.yaml
â”‚   â”‚   â”œâ”€â”€ shipping_policy.yaml
â”‚   â”‚   â””â”€â”€ faq.yaml
â”‚   â””â”€â”€ prompts/                     # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”‚       â”œâ”€â”€ system_prompt.txt
â”‚       â”œâ”€â”€ review_summary.txt
â”‚       â”œâ”€â”€ product_compare.txt
â”‚       â””â”€â”€ claim_handling.txt
â”‚
â”œâ”€â”€ ğŸ“ data/
â”‚   â”œâ”€â”€ ğŸ“ raw/                      # ì›ë³¸ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ amazon_reviews/
â”‚   â”‚   â””â”€â”€ amazon_metadata/
â”‚   â”œâ”€â”€ ğŸ“ processed/                # ì „ì²˜ë¦¬ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ reviews.parquet
â”‚   â”‚   â”œâ”€â”€ products.parquet
â”‚   â”‚   â””â”€â”€ training_data.jsonl
â”‚   â””â”€â”€ ğŸ“ mock/                     # Mock ì‹œìŠ¤í…œ ë°ì´í„°
â”‚       â”œâ”€â”€ users.json
â”‚       â”œâ”€â”€ orders.json
â”‚       â””â”€â”€ support_tickets.json
â”‚
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ data_prep/                # ë°ì´í„° ì¤€ë¹„
â”‚   â”‚   â”œâ”€â”€ download.py              # ë°ì´í„° ë‹¤ìš´ë¡œë“œ
â”‚   â”‚   â”œâ”€â”€ preprocess.py            # ì „ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ mock_generator.py        # Mock ë°ì´í„° ìƒì„±
â”‚   â”‚   â””â”€â”€ training_data.py         # í•™ìŠµ ë°ì´í„° êµ¬ì„±
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ rag/                      # RAG íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ chunker.py
â”‚   â”‚   â”œâ”€â”€ embedder.py
â”‚   â”‚   â”œâ”€â”€ indexer.py
â”‚   â”‚   â”œâ”€â”€ retriever.py
â”‚   â”‚   â””â”€â”€ reranker.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ agents/                   # Agent ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ orchestrator.py          # LangGraph ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ state.py                 # AgentState ì •ì˜
â”‚   â”‚   â”œâ”€â”€ ğŸ“ nodes/                # Agent ë…¸ë“œë“¤
â”‚   â”‚   â”‚   â”œâ”€â”€ intent_classifier.py
â”‚   â”‚   â”‚   â”œâ”€â”€ product_search.py
â”‚   â”‚   â”‚   â”œâ”€â”€ review_analysis.py
â”‚   â”‚   â”‚   â”œâ”€â”€ compare_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ recommend_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ order_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ claim_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ synthesizer.py
â”‚   â”‚   â”‚   â””â”€â”€ reflector.py
â”‚   â”‚   â””â”€â”€ ğŸ“ tools/                # Agent ë„êµ¬ë“¤
â”‚   â”‚       â”œâ”€â”€ search_tools.py
â”‚   â”‚       â”œâ”€â”€ order_tools.py
â”‚   â”‚       â””â”€â”€ action_tools.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ guardrails/               # ê°€ë“œë ˆì¼
â”‚   â”‚   â”œâ”€â”€ pipeline.py
â”‚   â”‚   â”œâ”€â”€ input_guards.py
â”‚   â”‚   â”œâ”€â”€ output_guards.py
â”‚   â”‚   â””â”€â”€ escalation.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ mock_system/              # Mock ë°±ì—”ë“œ
â”‚   â”‚   â”œâ”€â”€ database.py              # SQLite/PostgreSQL
â”‚   â”‚   â”œâ”€â”€ user_service.py
â”‚   â”‚   â”œâ”€â”€ order_service.py
â”‚   â”‚   â”œâ”€â”€ inventory_service.py
â”‚   â”‚   â””â”€â”€ ticket_service.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ llm/                      # LLM ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ client.py
â”‚   â”‚   â””â”€â”€ prompts.py
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ evaluation/               # í‰ê°€
â”‚       â”œâ”€â”€ metrics.py
â”‚       â”œâ”€â”€ test_cases.py
â”‚       â””â”€â”€ benchmark.py
â”‚
â”œâ”€â”€ ğŸ“ scripts/
â”‚   â”œâ”€â”€ 01_download_data.py
â”‚   â”œâ”€â”€ 02_preprocess.py
â”‚   â”œâ”€â”€ 03_generate_mock.py
â”‚   â”œâ”€â”€ 04_build_index.py
â”‚   â”œâ”€â”€ 05_prepare_training.py
â”‚   â”œâ”€â”€ 06_train.sh
â”‚   â”œâ”€â”€ 07_serve.sh
â”‚   â””â”€â”€ 08_evaluate.py
â”‚
â”œâ”€â”€ ğŸ“ notebooks/
â”‚   â”œâ”€â”€ 01_data_exploration.ipynb
â”‚   â”œâ”€â”€ 02_mock_system_test.ipynb
â”‚   â”œâ”€â”€ 03_rag_experiments.ipynb
â”‚   â””â”€â”€ 04_agent_debugging.ipynb
â”‚
â”œâ”€â”€ api.py                           # FastAPI ì„œë²„
â”œâ”€â”€ ui.py                            # Gradio UI
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ requirements.txt
```
### ì•„í‚¤í…ì³
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ìƒí’ˆ ìƒë‹´ & ì£¼ë¬¸ ê´€ë¦¬ Agent (í™•ì¥ ë²„ì „)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              USER INTERFACE                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                         Gradio Chat UI                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ â”‚  â”‚ ìƒí’ˆ ì¹´ë“œ       â”‚  â”‚ ì£¼ë¬¸ í˜„í™© íŒ¨ë„          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚ (ì´ë¯¸ì§€ í¬í•¨)   â”‚  â”‚                         â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ëŒ€í™” íˆìŠ¤í† ë¦¬ â”‚  â”‚ â€¢ ì¸ë„¤ì¼        â”‚  â”‚ â€¢ ì£¼ë¬¸ ëª©ë¡             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ì¶”ì²œ ìƒí’ˆ     â”‚  â”‚ â€¢ ê°€ê²©/í‰ì      â”‚  â”‚ â€¢ ë°°ì†¡ ìƒíƒœ             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ë¹ ë¥¸ ì•¡ì…˜     â”‚  â”‚ â€¢ ë¹„êµí•˜ê¸° ë²„íŠ¼ â”‚  â”‚ â€¢ ë¬¸ì˜ ì´ë ¥             â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  User Session: user_id, ëŒ€í™” íˆìŠ¤í† ë¦¬, í˜„ì¬ ê´€ì‹¬ ìƒí’ˆ, ì£¼ë¬¸ ì»¨í…ìŠ¤íŠ¸    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            INPUT GUARDRAILS                                      â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Prompt         â”‚ â”‚ Topic          â”‚ â”‚ PII            â”‚ â”‚ Sentiment        â”‚  â”‚
â”‚  â”‚ Injection      â”‚ â”‚ Classifier     â”‚ â”‚ Masker         â”‚ â”‚ Detector         â”‚  â”‚
â”‚  â”‚                â”‚ â”‚                â”‚ â”‚                â”‚ â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ Jailbreak    â”‚ â”‚ â€¢ ìƒí’ˆë¬¸ì˜ âœ“   â”‚ â”‚ â€¢ ì¹´ë“œë²ˆí˜¸     â”‚ â”‚ â€¢ ë¶ˆë§Œ ê°ì§€      â”‚  â”‚
â”‚  â”‚ â€¢ Manipulation â”‚ â”‚ â€¢ ì£¼ë¬¸ê´€ë ¨ âœ“   â”‚ â”‚ â€¢ ì „í™”ë²ˆí˜¸     â”‚ â”‚ â€¢ ê¸´ê¸‰ë„ íŒë‹¨    â”‚  â”‚
â”‚  â”‚                â”‚ â”‚ â€¢ ë¶ˆë§Œ/í´ë ˆì„ âœ“â”‚ â”‚ â€¢ ì£¼ì†Œ ë§ˆìŠ¤í‚¹  â”‚ â”‚ â€¢ ì—ìŠ¤ì»¬ë ˆì´ì…˜   â”‚  â”‚
â”‚  â”‚                â”‚ â”‚ â€¢ ë²”ìœ„ì™¸ â†’ ì•ˆë‚´â”‚ â”‚                â”‚ â”‚   íŠ¸ë¦¬ê±°         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                           â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                         â”‚  ğŸš¨ Escalation Check    â”‚                             â”‚
â”‚                         â”‚  â€¢ ì‹¬í•œ ë¶ˆë§Œ â†’ ìƒë‹´ì‚¬   â”‚                             â”‚
â”‚                         â”‚  â€¢ ë²•ì  ì–¸ê¸‰ â†’ ìƒë‹´ì‚¬   â”‚                             â”‚
â”‚                         â”‚  â€¢ ë°˜ë³µ ë¬¸ì˜ â†’ ìƒë‹´ì‚¬   â”‚                             â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ORCHESTRATOR (LangGraph)                                 â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                              STATE                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ AgentState:                                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   user_id: str                    # ì‚¬ìš©ì ì‹ë³„                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   messages: List[Message]         # ëŒ€í™” íˆìŠ¤í† ë¦¬                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   intent: str                     # í˜„ì¬ ì˜ë„                        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   current_products: List[Product] # í˜„ì¬ ë…¼ì˜ ì¤‘ì¸ ìƒí’ˆ              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   cart: List[CartItem]            # ì¥ë°”êµ¬ë‹ˆ                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   order_context: Optional[Order]  # ì£¼ë¬¸ ì¡°íšŒ ì»¨í…ìŠ¤íŠ¸               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   retrieved_reviews: List[Review] # ê²€ìƒ‰ëœ ë¦¬ë·°                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   iteration: int                  # ë°˜ë³µ íšŸìˆ˜                        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   confidence: float               # ì‘ë‹µ í™•ì‹ ë„                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   needs_escalation: bool          # ìƒë‹´ì‚¬ ì—°ê²° í•„ìš”                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   action_taken: List[Action]      # ìˆ˜í–‰ëœ ì•¡ì…˜ë“¤                    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          INTENT CLASSIFIER                                 â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ ìƒí’ˆ    â”‚ â”‚ ë¦¬ë·°    â”‚ â”‚ ë¹„êµ    â”‚ â”‚ ì¶”ì²œ    â”‚ â”‚ ì£¼ë¬¸    â”‚ â”‚ í´ë ˆì„  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ ê²€ìƒ‰    â”‚ â”‚ ìš”ì•½    â”‚ â”‚ ë¶„ì„    â”‚ â”‚ ìš”ì²­    â”‚ â”‚ ì¡°íšŒ    â”‚ â”‚ /ë¶ˆë§Œ   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚       â”‚          â”‚          â”‚          â”‚          â”‚          â”‚         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚          â”‚          â”‚          â”‚          â”‚          â”‚            â”‚
â”‚          â–¼          â–¼          â–¼          â–¼          â–¼          â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           AGENT NODES                                   â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Product     â”‚ â”‚ Review      â”‚ â”‚ Compare     â”‚ â”‚ Recommend         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Search      â”‚ â”‚ Analysis    â”‚ â”‚ Agent       â”‚ â”‚ Agent             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Agent       â”‚ â”‚ Agent       â”‚ â”‚             â”‚ â”‚                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚ â€¢ ìŠ¤í™ ë¹„êµ â”‚ â”‚ â€¢ ì¡°ê±´ íŒŒì‹±       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ í‚¤ì›Œë“œ   â”‚ â”‚ â€¢ ìš”ì•½      â”‚ â”‚ â€¢ ë¦¬ë·° ë¹„êµ â”‚ â”‚ â€¢ í˜‘ì—… í•„í„°ë§     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ì¹´í…Œê³ ë¦¬ â”‚ â”‚ â€¢ ì¥ë‹¨ì     â”‚ â”‚ â€¢ ê°€ê²© ë¹„êµ â”‚ â”‚ â€¢ ë¦¬ë·° ê¸°ë°˜ ë­í‚¹  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ í•„í„°ë§   â”‚ â”‚ â€¢ ê°ì„±ë¶„ì„  â”‚ â”‚ â€¢ í‘œ ìƒì„±   â”‚ â”‚ â€¢ ê°œì¸í™”          â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚ Order       â”‚ â”‚ Claim       â”‚ â”‚ Action Agent                        â”‚â”‚ â”‚
â”‚  â”‚  â”‚ Agent       â”‚ â”‚ Agent       â”‚ â”‚                                     â”‚â”‚ â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚ â€¢ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€/ì œê±°                â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ì£¼ë¬¸ ì¡°íšŒ â”‚ â”‚ â€¢ ë¶ˆë§Œ ë¶„ë¥˜ â”‚ â”‚ â€¢ ê´€ì‹¬ìƒí’ˆ ë“±ë¡                     â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ë°°ì†¡ í™•ì¸ â”‚ â”‚ â€¢ í•´ê²°ì±… ì œì‹œâ”‚ â”‚ â€¢ ì£¼ë¬¸ ì·¨ì†Œ ìš”ì²­ (Mock)            â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ì´ë ¥ ì¡°íšŒ â”‚ â”‚ â€¢ ì—ìŠ¤ì»¬ë ˆì…˜â”‚ â”‚ â€¢ ë¬¸ì˜ ê¸°ë¡ ì €ì¥                    â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                        â”‚
â”‚                                      â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          SYNTHESIZER                                    â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â€¢ ê²€ìƒ‰ ê²°ê³¼ + ë¦¬ë·° ë¶„ì„ + ì£¼ë¬¸ ì •ë³´ í†µí•©                               â”‚ â”‚
â”‚  â”‚  â€¢ ìƒí’ˆ ì¹´ë“œ í¬ë§·íŒ… (ì´ë¯¸ì§€ URL í¬í•¨)                                   â”‚ â”‚
â”‚  â”‚  â€¢ ì•¡ì…˜ ë²„íŠ¼ ìƒì„± (ì¥ë°”êµ¬ë‹ˆ, ë¹„êµí•˜ê¸° ë“±)                               â”‚ â”‚
â”‚  â”‚  â€¢ ì‚¬ìš©ì ë§ì¶¤ í†¤ì•¤ë§¤ë„ˆ                                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                        â”‚
â”‚                                      â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          REFLECTOR                                      â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â€¢ ì‘ë‹µ ì™„ì„±ë„ ì²´í¬ (ì§ˆë¬¸ì— ë‹¤ ë‹µí–ˆë‚˜?)                                 â”‚ â”‚
â”‚  â”‚  â€¢ ëˆ„ë½ ì •ë³´ ê°ì§€ â†’ ì¶”ê°€ ê²€ìƒ‰ íŠ¸ë¦¬ê±°                                    â”‚ â”‚
â”‚  â”‚  â€¢ í™•ì‹ ë„ ë‚®ìŒ â†’ "ë” êµ¬ì²´ì ìœ¼ë¡œ ì•Œë ¤ì£¼ì„¸ìš”" ë˜ëŠ” ìƒë‹´ì‚¬ ì—°ê²°            â”‚ â”‚
â”‚  â”‚  â€¢ ìµœëŒ€ 3íšŒ ë°˜ë³µ í›„ best-effort                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              LLM LAYER                                           â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    GPU 1: Main LLM (vLLM)                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚         Fine-tuned Qwen2.5-7B-Instruct (QLoRA)                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  í•™ìŠµ ë°ì´í„°:                                                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ìƒí’ˆ QA (ë¦¬ë·° ê¸°ë°˜)                                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ CS ëŒ€í™” (bitext-customer-support)                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ë¹„êµ/ì¶”ì²œ ëŒ€í™” (í•©ì„± ë°ì´í„°)                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  VRAM: ~14GB                                                       â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    GPU 2: Supporting Models                               â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ BGE-M3       â”‚ â”‚ BGE-Reranker â”‚ â”‚ Sentiment    â”‚ â”‚ Intent           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Embedding    â”‚ â”‚              â”‚ â”‚ Classifier   â”‚ â”‚ Classifier       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ ~2GB         â”‚ â”‚ ~2GB         â”‚ â”‚ ~500MB       â”‚ â”‚ ~500MB           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚  (Phase 2) Vision Model: LLaVA or Qwen-VL (~8GB)                     â”‚â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„                                                  â”‚â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ "ì´ëŸ° ìŠ¤íƒ€ì¼ ì°¾ì•„ì¤˜" ì²˜ë¦¬                                         â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚  VRAM ì‚¬ìš©: Phase 1 ~6GB / Phase 2 ~14GB                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            OUTPUT GUARDRAILS                                     â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Hallucination  â”‚ â”‚ Price/Stock    â”‚ â”‚ Policy         â”‚ â”‚ Tone             â”‚  â”‚
â”‚  â”‚ Detector       â”‚ â”‚ Validator      â”‚ â”‚ Compliance     â”‚ â”‚ Checker          â”‚  â”‚
â”‚  â”‚                â”‚ â”‚                â”‚ â”‚                â”‚ â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ ì—†ëŠ” ìƒí’ˆ    â”‚ â”‚ â€¢ ê°€ê²© ë²”ìœ„    â”‚ â”‚ â€¢ í™˜ë¶ˆ ì •ì±…    â”‚ â”‚ â€¢ ê³¼ë„í•œ ì•½ì†    â”‚  â”‚
â”‚  â”‚ â€¢ ì—†ëŠ” ê¸°ëŠ¥    â”‚ â”‚ â€¢ ì¬ê³  ìƒíƒœ    â”‚ â”‚ â€¢ ë°°ì†¡ ì •ì±…    â”‚ â”‚ â€¢ ê²½ìŸì‚¬ ë¹„ë°©    â”‚  â”‚
â”‚  â”‚ â€¢ ê°€ì§œ ë¦¬ë·°    â”‚ â”‚   ê²€ì¦ (Mock)  â”‚ â”‚ â€¢ ì •í™•ì„± ì²´í¬  â”‚ â”‚ â€¢ ê³µê²©ì  í‘œí˜„    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                           â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                         â”‚     Response Wrapper    â”‚                             â”‚
â”‚                         â”‚  â€¢ ì¶œì²˜ ëª…ì‹œ            â”‚                             â”‚
â”‚                         â”‚  â€¢ ë©´ì±… ì¡°í•­ (í•„ìš”ì‹œ)   â”‚                             â”‚
â”‚                         â”‚  â€¢ ìƒë‹´ì‚¬ ì—°ê²° ì•ˆë‚´     â”‚                             â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           KNOWLEDGE LAYER                                        â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          Hybrid Retriever                                 â”‚   â”‚
â”‚  â”‚            Dense (Qdrant) + Sparse (ES) + Cross-Encoder Rerank           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         VECTOR STORES (Qdrant)                             â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ reviews          â”‚ â”‚ products         â”‚ â”‚ product_descriptions      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                  â”‚ â”‚                  â”‚ â”‚                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ review_text    â”‚ â”‚ â€¢ title          â”‚ â”‚ â€¢ full_description         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ embedding      â”‚ â”‚ â€¢ description    â”‚ â”‚ â€¢ features                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ sentiment      â”‚ â”‚ â€¢ embedding      â”‚ â”‚ â€¢ specs                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ rating         â”‚ â”‚ â€¢ image_url      â”‚ â”‚ â€¢ embedding                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ product_id     â”‚ â”‚ â€¢ category       â”‚ â”‚                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ user_id        â”‚ â”‚ â€¢ price          â”‚ â”‚                            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      RELATIONAL DB (PostgreSQL)                            â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚ users        â”‚ â”‚ orders       â”‚ â”‚ order_items  â”‚ â”‚ conversations      â”‚â”‚ â”‚
â”‚  â”‚  â”‚ (ê°€ìƒ)       â”‚ â”‚ (Mock)       â”‚ â”‚              â”‚ â”‚                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ user_id    â”‚ â”‚ â€¢ order_id   â”‚ â”‚ â€¢ order_id   â”‚ â”‚ â€¢ conv_id          â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ name       â”‚ â”‚ â€¢ user_id    â”‚ â”‚ â€¢ product_id â”‚ â”‚ â€¢ user_id          â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ created_at â”‚ â”‚ â€¢ status     â”‚ â”‚ â€¢ quantity   â”‚ â”‚ â€¢ messages         â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ preferencesâ”‚ â”‚ â€¢ created_at â”‚ â”‚ â€¢ price      â”‚ â”‚ â€¢ created_at       â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚ cart         â”‚ â”‚ wishlist     â”‚ â”‚ support_tickets                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ user_id    â”‚ â”‚ â€¢ user_id    â”‚ â”‚ â€¢ ticket_id                          â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ product_id â”‚ â”‚ â€¢ product_id â”‚ â”‚ â€¢ user_id, order_id                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ quantity   â”‚ â”‚ â€¢ added_at   â”‚ â”‚ â€¢ status (open/escalated/resolved)   â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         POLICY STORE (JSON/YAML)                           â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â”‚  â€¢ í™˜ë¶ˆ/êµí™˜ ì •ì±…                                                          â”‚ â”‚
â”‚  â”‚  â€¢ ë°°ì†¡ ì •ì±…                                                               â”‚ â”‚
â”‚  â”‚  â€¢ FAQ                                                                     â”‚ â”‚
â”‚  â”‚  â€¢ ì¹´í…Œê³ ë¦¬ë³„ íŠ¹ìˆ˜ ì •ì±…                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              TOOL LAYER                                          â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        READ TOOLS (ì¡°íšŒ)                                 â”‚    â”‚
â”‚  â”‚                                                                         â”‚    â”‚
â”‚  â”‚  search_products(query, filters)     # ìƒí’ˆ ê²€ìƒ‰                        â”‚    â”‚
â”‚  â”‚  get_product_details(product_id)     # ìƒí’ˆ ìƒì„¸                        â”‚    â”‚
â”‚  â”‚  get_product_reviews(product_id)     # ë¦¬ë·° ì¡°íšŒ                        â”‚    â”‚
â”‚  â”‚  get_user_orders(user_id)            # ì£¼ë¬¸ ì´ë ¥                        â”‚    â”‚
â”‚  â”‚  get_order_status(order_id)          # ì£¼ë¬¸ ìƒíƒœ                        â”‚    â”‚
â”‚  â”‚  check_stock(product_id)             # ì¬ê³  í™•ì¸ (Mock)                 â”‚    â”‚
â”‚  â”‚  get_policy(policy_type)             # ì •ì±… ì¡°íšŒ                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        WRITE TOOLS (ì•¡ì…˜)                                â”‚    â”‚
â”‚  â”‚                                                                         â”‚    â”‚
â”‚  â”‚  add_to_cart(user_id, product_id, qty)      # ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€             â”‚    â”‚
â”‚  â”‚  remove_from_cart(user_id, product_id)      # ì¥ë°”êµ¬ë‹ˆ ì œê±°             â”‚    â”‚
â”‚  â”‚  add_to_wishlist(user_id, product_id)       # ê´€ì‹¬ìƒí’ˆ ë“±ë¡             â”‚    â”‚
â”‚  â”‚  create_support_ticket(user_id, issue)      # ë¬¸ì˜ ìƒì„±                 â”‚    â”‚
â”‚  â”‚  request_order_cancel(order_id, reason)     # ì·¨ì†Œ ìš”ì²­ (Mock)          â”‚    â”‚
â”‚  â”‚  escalate_to_human(user_id, reason)         # ìƒë‹´ì‚¬ ì—°ê²°               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    (Phase 2) VISION TOOLS                                â”‚    â”‚
â”‚  â”‚                                                                         â”‚    â”‚
â”‚  â”‚  analyze_product_image(image)           # ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„              â”‚    â”‚
â”‚  â”‚  find_similar_products(image)           # ìœ ì‚¬ ìƒí’ˆ ê²€ìƒ‰                â”‚    â”‚
â”‚  â”‚  extract_style_attributes(image)        # ìŠ¤íƒ€ì¼ ì†ì„± ì¶”ì¶œ              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## 2ï¸âƒ£ ë°ì´í„° ì¤€ë¹„ ê°€ì´ë“œ

### Step 2.1: ë°ì´í„° ë‹¤ìš´ë¡œë“œ

```yaml
# í•„ìš” ë°ì´í„° ì†ŒìŠ¤

1. Amazon Reviews (í•„ìˆ˜)
   - URL: https://amazon-reviews-2023.github.io/
   - ì¹´í…Œê³ ë¦¬ ì„ íƒ: Electronics (ê¶Œì¥, ~20GB)
   - í¬í•¨: reviewerID, asin, reviewText, overall, summary, unixReviewTime

2. Amazon Product Metadata (í•„ìˆ˜)
   - ë™ì¼ ì†ŒìŠ¤ì—ì„œ ë‹¤ìš´ë¡œë“œ
   - í¬í•¨: asin, title, brand, category, price, imageURL, description

3. bitext-customer-support (ê¶Œì¥)
   - HuggingFace: bitext/Bitext-customer-support-llm-chatbot-training-dataset
   - ìš©ë„: CS ëŒ€í™” íŒ¨í„´ í•™ìŠµ
```

```python
# scripts/01_download_data.py (í•µì‹¬ë§Œ)

from datasets import load_dataset

# Amazon Reviews - Electronics ì¹´í…Œê³ ë¦¬
reviews = load_dataset(
    "McAuley-Lab/Amazon-Reviews-2023",
    "raw_review_Electronics",
    split="full",
    trust_remote_code=True
)

# Product Metadata
metadata = load_dataset(
    "McAuley-Lab/Amazon-Reviews-2023", 
    "raw_meta_Electronics",
    split="full",
    trust_remote_code=True
)

# CS ëŒ€í™” ë°ì´í„°
cs_data = load_dataset("bitext/Bitext-customer-support-llm-chatbot-training-dataset")
```

### Step 2.2: ë°ì´í„° ì „ì²˜ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë°ì´í„° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [Reviews Raw]                                                  â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 1. í•„í„°ë§       â”‚                                           â”‚
â”‚  â”‚ â€¢ ì˜ì–´ ë¦¬ë·°ë§Œ   â”‚                                           â”‚
â”‚  â”‚ â€¢ 50ì ì´ìƒ     â”‚                                           â”‚
â”‚  â”‚ â€¢ verified ìš°ì„  â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 2. ì •ì œ         â”‚                                           â”‚
â”‚  â”‚ â€¢ HTML ì œê±°     â”‚                                           â”‚
â”‚  â”‚ â€¢ íŠ¹ìˆ˜ë¬¸ì ì •ë¦¬ â”‚                                           â”‚
â”‚  â”‚ â€¢ ì¤‘ë³µ ì œê±°     â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 3. ê°ì„± ë ˆì´ë¸”  â”‚                                           â”‚
â”‚  â”‚ â€¢ 1-2: negative â”‚                                           â”‚
â”‚  â”‚ â€¢ 3: neutral    â”‚                                           â”‚
â”‚  â”‚ â€¢ 4-5: positive â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  [reviews.parquet]                                             â”‚
â”‚                                                                 â”‚
â”‚  [Metadata Raw]                                                 â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 1. í•„í„°ë§       â”‚                                           â”‚
â”‚  â”‚ â€¢ ê°€ê²© ìˆëŠ” ê²ƒ  â”‚                                           â”‚
â”‚  â”‚ â€¢ ì´ë¯¸ì§€ ìˆëŠ” ê²ƒâ”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 2. ì¹´í…Œê³ ë¦¬ ì •ë¦¬â”‚                                           â”‚
â”‚  â”‚ â€¢ ê³„ì¸µ êµ¬ì¡°í™”   â”‚                                           â”‚
â”‚  â”‚ â€¢ ëŒ€í‘œ ì¹´í…Œê³ ë¦¬ â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 3. Reviews ì¡°ì¸ â”‚                                           â”‚
â”‚  â”‚ â€¢ í‰ê·  í‰ì      â”‚                                           â”‚
â”‚  â”‚ â€¢ ë¦¬ë·° ìˆ˜       â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–¼                                                     â”‚
â”‚  [products.parquet]                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìµœì¢… ë°ì´í„° ìŠ¤í‚¤ë§ˆ:**

```python
# reviews.parquet
{
    "review_id": str,
    "product_id": str,        # asin
    "user_id": str,           # reviewerID
    "rating": int,            # 1-5
    "title": str,             # summary
    "text": str,              # reviewText
    "sentiment": str,         # positive/neutral/negative
    "timestamp": int,
    "verified": bool,
    "helpful_votes": int
}

# products.parquet
{
    "product_id": str,        # asin
    "title": str,
    "brand": str,
    "category": List[str],    # ê³„ì¸µ êµ¬ì¡°
    "category_main": str,     # ëŒ€í‘œ ì¹´í…Œê³ ë¦¬
    "price": float,
    "price_range": str,       # budget/mid/premium
    "image_url": str,
    "description": str,
    "features": List[str],
    "avg_rating": float,
    "review_count": int
}
```

### Step 2.3: Mock ì‹œìŠ¤í…œ ë°ì´í„° ìƒì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Mock ë°ì´í„° ìƒì„± ë¡œì§                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [Reviews]                                                      â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”‚ reviewerID ì¶”ì¶œ                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    USERS ìƒì„±                            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â€¢ user_id: reviewerID ê·¸ëŒ€ë¡œ                           â”‚   â”‚
â”‚  â”‚  â€¢ name: Fakerë¡œ ìƒì„± ë˜ëŠ” reviewerName                 â”‚   â”‚
â”‚  â”‚  â€¢ email: {user_id[:8]}@mock.com                        â”‚   â”‚
â”‚  â”‚  â€¢ created_at: ì²« ë¦¬ë·° ë‚ ì§œ                              â”‚   â”‚
â”‚  â”‚  â€¢ preferences: ë¦¬ë·° ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ì¶”ë¡                   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì˜ˆ: ì´ì–´í° ë¦¬ë·° ë§ìŒ â†’ preferences: ["audio", "mobile"]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”‚ ë¦¬ë·° = êµ¬ë§¤ ê°€ì •                                         â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ORDERS ìƒì„±                            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ë¦¬ë·° ìˆìŒ â†’ ë°°ì†¡ ì™„ë£Œ ì£¼ë¬¸                              â”‚   â”‚
â”‚  â”‚  â€¢ order_id: ORD-{user_id[:8]}-{timestamp}              â”‚   â”‚
â”‚  â”‚  â€¢ order_date: review_date - 7ì¼                        â”‚   â”‚
â”‚  â”‚  â€¢ delivery_date: review_date - 3ì¼                     â”‚   â”‚
â”‚  â”‚  â€¢ status: "delivered"                                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ì¶”ê°€ ìƒì„± (í…ŒìŠ¤íŠ¸ìš©):                                   â”‚   â”‚
â”‚  â”‚  â€¢ 10% pending (ê²°ì œ ëŒ€ê¸°)                              â”‚   â”‚
â”‚  â”‚  â€¢ 15% confirmed (ê²°ì œ ì™„ë£Œ)                            â”‚   â”‚
â”‚  â”‚  â€¢ 20% shipping (ë°°ì†¡ ì¤‘)                               â”‚   â”‚
â”‚  â”‚  â€¢ 5% cancelled (ì·¨ì†Œë¨)                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚      â”‚                                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              SUPPORT_TICKETS ìƒì„±                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ë¶€ì • ë¦¬ë·° (1-2ì ) â†’ ë¬¸ì˜ í‹°ì¼“ ìƒì„±                      â”‚   â”‚
â”‚  â”‚  â€¢ ticket_id: TKT-{timestamp}                           â”‚   â”‚
â”‚  â”‚  â€¢ issue_type: ë¦¬ë·° ë‚´ìš© ê¸°ë°˜ ë¶„ë¥˜                       â”‚   â”‚
â”‚  â”‚    - "defective" (ë¶ˆëŸ‰)                                 â”‚   â”‚
â”‚  â”‚    - "not_as_described" (ì„¤ëª…ê³¼ ë‹¤ë¦„)                   â”‚   â”‚
â”‚  â”‚    - "delivery_issue" (ë°°ì†¡ ë¬¸ì œ)                       â”‚   â”‚
â”‚  â”‚  â€¢ status: open/resolved/escalated                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mock ë°ì´í„° ê·œëª¨ (ê¶Œì¥):**

| í…Œì´ë¸” | ë ˆì½”ë“œ ìˆ˜ | ì„¤ëª… |
|--------|----------|------|
| users | 50,000 | í™œì„± ë¦¬ë·°ì–´ ê¸°ë°˜ |
| products | 30,000 | Electronics ì£¼ìš” ìƒí’ˆ |
| reviews | 500,000 | ìƒí’ˆë‹¹ í‰ê·  15-20ê°œ |
| orders | 100,000 | ë‹¤ì–‘í•œ ìƒíƒœ í¬í•¨ |
| support_tickets | 5,000 | í…ŒìŠ¤íŠ¸ìš© ë¬¸ì˜ |

### Step 2.4: í•™ìŠµ ë°ì´í„° êµ¬ì„±

```yaml
# í•™ìŠµ ë°ì´í„° êµ¬ì„± (ShareGPT í˜•ì‹)

1. ë¦¬ë·° ìš”ì•½ ëŒ€í™” (40%)
   - Input: "ê°¤ëŸ­ì‹œ ë²„ì¦ˆ2 í”„ë¡œ ë¦¬ë·° ìš”ì•½í•´ì¤˜"
   - Output: ì¥ë‹¨ì  ë¶„ì„ + ìš”ì•½

2. ìƒí’ˆ ë¹„êµ ëŒ€í™” (20%)
   - Input: "ì—ì–´íŒŸ í”„ë¡œ 2 vs ê°¤ëŸ­ì‹œ ë²„ì¦ˆ2 í”„ë¡œ ë¹„êµ"
   - Output: ë¹„êµí‘œ + ê²°ë¡ 

3. ì¶”ì²œ ëŒ€í™” (20%)
   - Input: "10ë§Œì› ì´í•˜ ë¬´ì„  ì´ì–´í° ì¶”ì²œ"
   - Output: ì¡°ê±´ ê¸°ë°˜ Top 3 ì¶”ì²œ

4. ì£¼ë¬¸/CS ëŒ€í™” (15%)
   - Input: "ì§€ë‚œì£¼ ì£¼ë¬¸í•œ ê±° ì–¸ì œ ì™€ìš”?"
   - Output: ì£¼ë¬¸ ì¡°íšŒ + ìƒíƒœ ì•ˆë‚´

5. í´ë ˆì„ ëŒ€í™” (5%)
   - Input: "ë¶ˆëŸ‰í’ˆ ë°›ì•˜ëŠ”ë° í™˜ë¶ˆí•´ì£¼ì„¸ìš”"
   - Output: ê³µê° + í•´ê²°ì±… + ì—ìŠ¤ì»¬ë ˆì´ì…˜
```

```python
# í•™ìŠµ ë°ì´í„° ì˜ˆì‹œ (ShareGPT í˜•ì‹)

{
    "conversations": [
        {
            "from": "human",
            "value": "ì†Œë‹ˆ WF-1000XM5 ë¦¬ë·° ìš”ì•½í•´ì¤˜"
        },
        {
            "from": "gpt", 
            "value": """ì†Œë‹ˆ WF-1000XM5 ë¦¬ë·°ë¥¼ ë¶„ì„í•´ë“œë¦´ê²Œìš”! ğŸ§

ğŸ“Š ì „ì²´ í‰ì : 4.6/5 (ë¦¬ë·° 2,340ê°œ ê¸°ì¤€)

ğŸ‘ ì¥ì  (ê¸ì • ë¦¬ë·° 82%)
â€¢ ë…¸ì´ì¦ˆìº”ìŠ¬ë§: "ì—­ëŒ€ ìµœê°• ë…¸ìº”" ì–¸ê¸‰ 1,200íšŒ
â€¢ ìŒì§ˆ: "ê¹¨ë—í•˜ê³  í’ë¶€í•œ ì €ìŒ" í˜¸í‰
â€¢ ì°©ìš©ê°: "ì´ì „ ëª¨ë¸ë³´ë‹¤ ê°€ë²¼ì›Œì§"

ğŸ‘ ë‹¨ì  (ë¶€ì • ë¦¬ë·° 18%)
â€¢ ê°€ê²©: "ë„ˆë¬´ ë¹„ì‹¸ë‹¤" ì–¸ê¸‰ 340íšŒ
â€¢ í†µí™” í’ˆì§ˆ: "ë°”ëŒ ì†Œë¦¬ ë“¤ë¦¼" ì¼ë¶€ ì–¸ê¸‰
â€¢ ë°°í„°ë¦¬: "ì¼€ì´ìŠ¤ ë°°í„°ë¦¬ ì•„ì‰¬ì›€"

ğŸ¯ ì¶”ì²œ ëŒ€ìƒ: ë…¸ìº”+ìŒì§ˆ ìµœìš°ì„ , í”„ë¦¬ë¯¸ì—„ ì›í•˜ì‹œëŠ” ë¶„
âš ï¸ ê³ ë ¤ ì‚¬í•­: ê°€ì„±ë¹„ ì¤‘ì‹œí•˜ì‹œë©´ ë‹¤ë¥¸ ì˜µì…˜ë„ ê²€í† 

ë” ê¶ê¸ˆí•˜ì‹  ì  ìˆìœ¼ì‹œë©´ ë§ì”€í•´ì£¼ì„¸ìš”!"""
        }
    ]
}
```

---

## 3ï¸âƒ£ RAG íŒŒì´í”„ë¼ì¸ ê°€ì´ë“œ

### ì¸ë±ì‹± êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ì¸ë±ì‹± êµ¬ì¡°                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Qdrant Collections:                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                             â”‚
â”‚                                                                 â”‚
â”‚  1. reviews_collection                                          â”‚
â”‚     â”œâ”€â”€ vector: BGE-M3 embedding (1024d)                       â”‚
â”‚     â”œâ”€â”€ payload:                                                â”‚
â”‚     â”‚   â”œâ”€â”€ review_id, product_id, user_id                     â”‚
â”‚     â”‚   â”œâ”€â”€ text, rating, sentiment                            â”‚
â”‚     â”‚   â””â”€â”€ timestamp, helpful_votes                           â”‚
â”‚     â””â”€â”€ index: product_id, sentiment, rating                   â”‚
â”‚                                                                 â”‚
â”‚  2. products_collection                                         â”‚
â”‚     â”œâ”€â”€ vector: title + description embedding                  â”‚
â”‚     â”œâ”€â”€ payload:                                                â”‚
â”‚     â”‚   â”œâ”€â”€ product_id, title, brand                           â”‚
â”‚     â”‚   â”œâ”€â”€ category, price, image_url                         â”‚
â”‚     â”‚   â””â”€â”€ avg_rating, review_count                           â”‚
â”‚     â””â”€â”€ index: category, price_range, brand                    â”‚
â”‚                                                                 â”‚
â”‚  3. product_features_collection                                 â”‚
â”‚     â”œâ”€â”€ vector: features + specs embedding                     â”‚
â”‚     â””â”€â”€ payload: product_id, features, specs                   â”‚
â”‚                                                                 â”‚
â”‚                                                                 â”‚
â”‚  Elasticsearch Indices:                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                         â”‚
â”‚                                                                 â”‚
â”‚  1. reviews_bm25                                                â”‚
â”‚     â””â”€â”€ BM25 ê²€ìƒ‰ìš© (í‚¤ì›Œë“œ ë§¤ì¹­)                               â”‚
â”‚                                                                 â”‚
â”‚  2. products_bm25                                               â”‚
â”‚     â””â”€â”€ ìƒí’ˆëª…, ë¸Œëœë“œ ê²€ìƒ‰                                     â”‚
â”‚                                                                 â”‚
â”‚  3. policies                                                    â”‚
â”‚     â””â”€â”€ FAQ, í™˜ë¶ˆì •ì±…, ë°°ì†¡ì •ì±…                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê²€ìƒ‰ ì „ëµ

```python
# src/rag/retriever.py (í•µì‹¬ ë¡œì§)

class EcommerceRetriever:
    """E-Commerce íŠ¹í™” Hybrid Retriever"""
    
    async def search_products(self, query: str, filters: dict = None) -> List[Product]:
        """ìƒí’ˆ ê²€ìƒ‰: ì‹œë§¨í‹± + í•„í„°ë§"""
        # 1. Dense search
        # 2. Filter by category, price, brand
        # 3. Rerank
        pass
    
    async def search_reviews(
        self, 
        product_id: str = None,
        query: str = None,
        sentiment: str = None,  # positive/negative/all
        top_k: int = 20
    ) -> List[Review]:
        """ë¦¬ë·° ê²€ìƒ‰: ìƒí’ˆë³„ ë˜ëŠ” ì¿¼ë¦¬ ê¸°ë°˜"""
        # 1. product_id ìˆìœ¼ë©´ í•´ë‹¹ ìƒí’ˆ ë¦¬ë·°ë§Œ
        # 2. query ìˆìœ¼ë©´ ê´€ë ¨ ë¦¬ë·° ê²€ìƒ‰
        # 3. sentiment í•„í„°ë§
        # 4. helpful_votesë¡œ ì •ë ¬
        pass
    
    async def search_for_comparison(
        self, 
        product_ids: List[str]
    ) -> Dict[str, ProductWithReviews]:
        """ë¹„êµìš©: ì—¬ëŸ¬ ìƒí’ˆì˜ ë¦¬ë·° í•œë²ˆì—"""
        pass
    
    async def search_policy(self, query: str) -> List[Policy]:
        """ì •ì±… ê²€ìƒ‰: í™˜ë¶ˆ, ë°°ì†¡ ë“±"""
        pass
```

---

## 4ï¸âƒ£ Agent êµ¬í˜„ ê°€ì´ë“œ

### AgentState ì •ì˜

```python
# src/agents/state.py

from typing import TypedDict, List, Optional, Annotated
import operator

class AgentState(TypedDict):
    # ê¸°ë³¸ ì •ë³´
    user_id: str
    session_id: str
    
    # ëŒ€í™”
    messages: Annotated[List[Message], operator.add]
    
    # Intent & Context
    intent: str  # search/review/compare/recommend/order/claim
    sub_intent: Optional[str]
    
    # ìƒí’ˆ ê´€ë ¨
    current_products: List[Product]
    compared_products: List[str]  # product_ids
    
    # ê²€ìƒ‰ ê²°ê³¼
    retrieved_reviews: List[Review]
    retrieved_policies: List[Policy]
    
    # ì£¼ë¬¸ ê´€ë ¨
    order_context: Optional[Order]
    cart: List[CartItem]
    
    # ì œì–´
    iteration: int
    confidence: float
    needs_clarification: bool
    needs_escalation: bool
    escalation_reason: Optional[str]
    
    # ì•¡ì…˜ ê¸°ë¡
    actions_taken: List[Action]
    
    # ìµœì¢… ì‘ë‹µ
    final_response: str
```

### LangGraph ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LangGraph Flow                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                      â”‚   START     â”‚                            â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                             â”‚                                    â”‚
â”‚                             â–¼                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚ Input Guards   â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                            â”‚                                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚              â”‚ BLOCK       â”‚ PASS        â”‚ ESCALATE             â”‚
â”‚              â–¼             â–¼             â–¼                      â”‚
â”‚         [ì—ëŸ¬ì‘ë‹µ]   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   [ìƒë‹´ì‚¬ ì—°ê²°]               â”‚
â”‚                      â”‚ Classify â”‚                               â”‚
â”‚                      â”‚ Intent   â”‚                               â”‚
â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                           â”‚                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â–¼          â–¼         â–¼         â–¼          â–¼          â–¼     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚Search â”‚ â”‚Review â”‚ â”‚Compareâ”‚ â”‚Recomm â”‚ â”‚Order  â”‚ â”‚Claim  â”‚   â”‚
â”‚ â”‚Agent  â”‚ â”‚Agent  â”‚ â”‚Agent  â”‚ â”‚Agent  â”‚ â”‚Agent  â”‚ â”‚Agent  â”‚   â”‚
â”‚ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜   â”‚
â”‚     â”‚         â”‚         â”‚         â”‚         â”‚         â”‚        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                      â”‚ Synthesizer  â”‚                           â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                             â”‚                                    â”‚
â”‚                             â–¼                                    â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                      â”‚  Reflector   â”‚â—„â”€â”€â”€â”€â”€â”                    â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                    â”‚
â”‚                             â”‚              â”‚                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                    â”‚
â”‚                    â”‚                 â”‚     â”‚                    â”‚
â”‚              confidence â‰¥ 0.7   confidence < 0.7                â”‚
â”‚              OR iter â‰¥ 3        AND iter < 3                    â”‚
â”‚                    â”‚                 â”‚     â”‚                    â”‚
â”‚                    â–¼                 â””â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚              â”‚ Output Guardsâ”‚                                   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                     â”‚                                            â”‚
â”‚                     â–¼                                            â”‚
â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚                â”‚   END   â”‚                                       â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê° Agent ë…¸ë“œ ì—­í• 

```yaml
# Agent ë…¸ë“œë³„ ì—­í•  ì •ì˜

1. Intent Classifier:
   - ì…ë ¥: user message
   - ì¶œë ¥: intent (search/review/compare/recommend/order/claim)
   - ë°©ë²•: Fine-tuned classifier ë˜ëŠ” LLM few-shot

2. Product Search Agent:
   - íŠ¸ë¦¬ê±°: "~ì°¾ì•„ì¤˜", "~ìˆì–´?"
   - ë™ì‘: 
     - ì¿¼ë¦¬ì—ì„œ ì¡°ê±´ ì¶”ì¶œ (ì¹´í…Œê³ ë¦¬, ê°€ê²©, ë¸Œëœë“œ)
     - Hybrid search
     - ìƒí’ˆ ëª©ë¡ ë°˜í™˜
   - ì¶œë ¥: current_products ì—…ë°ì´íŠ¸

3. Review Analysis Agent:
   - íŠ¸ë¦¬ê±°: "ë¦¬ë·° ì•Œë ¤ì¤˜", "ì–´ë•Œ?", "í›„ê¸°"
   - ë™ì‘:
     - ìƒí’ˆ ë¦¬ë·° ê²€ìƒ‰
     - ê°ì„± ë¶„ì„ ì§‘ê³„
     - ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ
     - ì¥ë‹¨ì  ìš”ì•½ ìƒì„±
   - ì¶œë ¥: retrieved_reviews + ìš”ì•½

4. Compare Agent:
   - íŠ¸ë¦¬ê±°: "vs", "ë¹„êµ", "ì°¨ì´"
   - ë™ì‘:
     - 2-3ê°œ ìƒí’ˆ ì‹ë³„
     - ìŠ¤í™ ë¹„êµí‘œ ìƒì„±
     - ë¦¬ë·° ê¸°ë°˜ ë¹„êµ
     - ê²°ë¡  ìƒì„±
   - ì¶œë ¥: ë¹„êµ ê²°ê³¼

5. Recommend Agent:
   - íŠ¸ë¦¬ê±°: "ì¶”ì²œ", "ë­ê°€ ì¢‹ì•„?"
   - ë™ì‘:
     - ì¡°ê±´ íŒŒì‹± (ê°€ê²©, ìš©ë„, ì„ í˜¸)
     - ì¡°ê±´ ê¸°ë°˜ í•„í„°ë§
     - ë¦¬ë·° ì ìˆ˜ ê¸°ë°˜ ë­í‚¹
     - ê°œì¸í™” (êµ¬ë§¤ì´ë ¥ ìˆìœ¼ë©´)
   - ì¶œë ¥: Top 3 ì¶”ì²œ + ê·¼ê±°

6. Order Agent:
   - íŠ¸ë¦¬ê±°: "ì£¼ë¬¸", "ë°°ì†¡", "ì–¸ì œ ì™€?"
   - ë™ì‘:
     - ì‚¬ìš©ì ì£¼ë¬¸ ì´ë ¥ ì¡°íšŒ
     - ì£¼ë¬¸ ìƒíƒœ í™•ì¸
     - ë°°ì†¡ ì •ë³´ ì¡°íšŒ
   - ì¶œë ¥: ì£¼ë¬¸ ì •ë³´

7. Claim Agent:
   - íŠ¸ë¦¬ê±°: "í™˜ë¶ˆ", "êµí™˜", "ë¶ˆëŸ‰", "í™”ë‚˜"
   - ë™ì‘:
     - ê°ì„± ë¶„ì„ (ë¶ˆë§Œ ê°•ë„)
     - ê´€ë ¨ ì •ì±… ê²€ìƒ‰
     - í•´ê²°ì±… ì œì‹œ
     - í•„ìš”ì‹œ ì—ìŠ¤ì»¬ë ˆì´ì…˜
   - ì¶œë ¥: í•´ê²° ì•ˆë‚´ ë˜ëŠ” ìƒë‹´ì‚¬ ì—°ê²°

8. Synthesizer:
   - ì…ë ¥: ê° Agent ê²°ê³¼
   - ë™ì‘:
     - ê²°ê³¼ í†µí•©
     - ìƒí’ˆ ì¹´ë“œ í¬ë§·íŒ…
     - ì•¡ì…˜ ë²„íŠ¼ ìƒì„±
     - í†¤ì•¤ë§¤ë„ˆ ì¡°ì •
   - ì¶œë ¥: final_response ì´ˆì•ˆ

9. Reflector:
   - ì…ë ¥: final_response
   - ë™ì‘:
     - ì‘ë‹µ ì™„ì„±ë„ ì²´í¬
     - ëˆ„ë½ ì •ë³´ ê°ì§€
     - í™•ì‹ ë„ í‰ê°€
   - ì¶œë ¥: confidence, ì¬ê²€ìƒ‰ í•„ìš” ì—¬ë¶€
```

---

## 5ï¸âƒ£ Mock ì‹œìŠ¤í…œ ê°€ì´ë“œ

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- PostgreSQL Schema

-- ì‚¬ìš©ì
CREATE TABLE users (
    user_id VARCHAR(50) PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100),
    created_at TIMESTAMP,
    preferences JSONB  -- {"categories": ["audio"], "price_range": "mid"}
);

-- ìƒí’ˆ (ë³„ë„ ê´€ë¦¬ or ìºì‹œ)
CREATE TABLE products_cache (
    product_id VARCHAR(20) PRIMARY KEY,
    title VARCHAR(500),
    brand VARCHAR(100),
    category VARCHAR(200),
    price DECIMAL(10,2),
    image_url TEXT,
    avg_rating DECIMAL(2,1),
    stock_quantity INT DEFAULT 100  -- Mock ì¬ê³ 
);

-- ì£¼ë¬¸
CREATE TABLE orders (
    order_id VARCHAR(50) PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    status VARCHAR(20),  -- pending/confirmed/shipping/delivered/cancelled
    order_date TIMESTAMP,
    delivery_date TIMESTAMP,
    total_amount DECIMAL(10,2),
    shipping_address TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

-- ì£¼ë¬¸ ìƒí’ˆ
CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id VARCHAR(50) REFERENCES orders(order_id),
    product_id VARCHAR(20),
    quantity INT,
    unit_price DECIMAL(10,2)
);

-- ì¥ë°”êµ¬ë‹ˆ
CREATE TABLE cart (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    product_id VARCHAR(20),
    quantity INT DEFAULT 1,
    added_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(user_id, product_id)
);

-- ê´€ì‹¬ìƒí’ˆ
CREATE TABLE wishlist (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    product_id VARCHAR(20),
    added_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(user_id, product_id)
);

-- ë¬¸ì˜ í‹°ì¼“
CREATE TABLE support_tickets (
    ticket_id VARCHAR(50) PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    order_id VARCHAR(50) REFERENCES orders(order_id),
    issue_type VARCHAR(50),  -- refund/exchange/defective/delivery/other
    description TEXT,
    status VARCHAR(20) DEFAULT 'open',  -- open/in_progress/escalated/resolved
    priority VARCHAR(10) DEFAULT 'normal',  -- low/normal/high/urgent
    created_at TIMESTAMP DEFAULT NOW(),
    resolved_at TIMESTAMP
);

-- ëŒ€í™” ì´ë ¥
CREATE TABLE conversations (
    id SERIAL PRIMARY KEY,
    session_id VARCHAR(50),
    user_id VARCHAR(50) REFERENCES users(user_id),
    messages JSONB,  -- ì „ì²´ ëŒ€í™” ì €ì¥
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Mock Service API

```python
# src/mock_system/order_service.py (ì¸í„°í˜ì´ìŠ¤)

class OrderService:
    """ì£¼ë¬¸ ê´€ë ¨ Mock ì„œë¹„ìŠ¤"""
    
    async def get_user_orders(
        self, 
        user_id: str, 
        status: str = None,
        limit: int = 10
    ) -> List[Order]:
        """ì‚¬ìš©ì ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ"""
        pass
    
    async def get_order_detail(self, order_id: str) -> OrderDetail:
        """ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ"""
        pass
    
    async def get_order_status(self, order_id: str) -> OrderStatus:
        """ë°°ì†¡ ìƒíƒœ ì¡°íšŒ"""
        # Mock: ì£¼ë¬¸ì¼ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœ ê³„ì‚°
        pass
    
    async def request_cancel(self, order_id: str, reason: str) -> CancelResult:
        """ì·¨ì†Œ ìš”ì²­ (Mock: DB ìƒíƒœ ë³€ê²½)"""
        pass


class InventoryService:
    """ì¬ê³  Mock ì„œë¹„ìŠ¤"""
    
    async def check_stock(self, product_id: str) -> StockInfo:
        """ì¬ê³  í™•ì¸ (Mock: ëœë¤ ë˜ëŠ” ê³ ì •ê°’)"""
        pass
    
    async def reserve_stock(self, product_id: str, quantity: int) -> bool:
        """ì¬ê³  ì˜ˆì•½ (Mock)"""
        pass
```

---

## 6ï¸âƒ£ Guardrails ê°€ì´ë“œ

### Input Guardrails

```yaml
# Input Guards ì²´í¬ ìˆœì„œ

1. Prompt Injection Detection:
   - íŒ¨í„´ ë§¤ì¹­: "ignore", "disregard", "you are now"
   - ML ëª¨ë¸: Injection classifier
   - Action: BLOCK

2. Topic Classification:
   - ë¶„ë¥˜: product_inquiry / order_inquiry / claim / off_topic
   - Off-topic ì˜ˆ: "ì˜¤ëŠ˜ ë‚ ì”¨ ì–´ë•Œ?"
   - Action: off_topicì´ë©´ ì•ˆë‚´ ë©”ì‹œì§€

3. PII Detection:
   - íŒ¨í„´: ì¹´ë“œë²ˆí˜¸, ì „í™”ë²ˆí˜¸, ì£¼ë¯¼ë²ˆí˜¸
   - Action: MASK í›„ ê²½ê³ 

4. Sentiment Analysis:
   - ê°•ë„: low / medium / high
   - high + íŠ¹ì • í‚¤ì›Œë“œ (ë²•ì , ê³ ì†Œ) â†’ ESCALATE í”Œë˜ê·¸
```

### Output Guardrails

```yaml
# Output Guards ì²´í¬ ìˆœì„œ

1. Hallucination Check:
   - ë°©ë²•: ì‘ë‹µ ë‚´ ìƒí’ˆ/ê°€ê²©ì´ ì‹¤ì œ DBì— ìˆëŠ”ì§€
   - Action: ì—†ìœ¼ë©´ ì œê±° ë˜ëŠ” ì¬ìƒì„±

2. Price/Stock Validation:
   - ë°©ë²•: ì–¸ê¸‰ëœ ê°€ê²©ì´ Mock DBì™€ ì¼ì¹˜í•˜ëŠ”ì§€
   - Action: ë¶ˆì¼ì¹˜ì‹œ ì •ì •

3. Policy Compliance:
   - ë°©ë²•: í™˜ë¶ˆ/ë°°ì†¡ ì•ˆë‚´ê°€ ì •ì±… ë¬¸ì„œì™€ ì¼ì¹˜í•˜ëŠ”ì§€
   - Action: ë¶ˆì¼ì¹˜ì‹œ ì •ì±… ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´

4. Tone Check:
   - ë°©ë²•: ê³¼ë„í•œ ì•½ì†, ê²½ìŸì‚¬ ë¹„ë°© ê°ì§€
   - Action: ìˆ˜ì • ë˜ëŠ” ê²½ê³  ì¶”ê°€

5. Response Wrapper:
   - ì¶œì²˜ ëª…ì‹œ
   - í•„ìš”ì‹œ ë©´ì±… ì¡°í•­
   - ìƒë‹´ì‚¬ ì—°ê²° ì•ˆë‚´ (í•´ê²° ì–´ë ¤ìš´ ê²½ìš°)
```

---

## 7ï¸âƒ£ UI êµ¬ì„± ê°€ì´ë“œ

### Gradio ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Gradio UI Layout                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                            HEADER                                        â”‚   â”‚
â”‚  â”‚  ğŸ›’ AI ì‡¼í•‘ ë„ìš°ë¯¸          [ë¡œê·¸ì¸: user_abc123]     [ëŒ€í™” ì´ˆê¸°í™”]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          CHAT PANEL (70%)        â”‚       INFO PANEL (30%)               â”‚   â”‚
â”‚  â”‚                                  â”‚                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”‚       í˜„ì¬ ìƒí’ˆ ì •ë³´           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     ì±„íŒ… íˆìŠ¤í† ë¦¬          â”‚  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”‚  [ì´ë¯¸ì§€]                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  User: ë…¸ìº” ì´ì–´í° ì¶”ì²œ    â”‚  â”‚  â”‚  Sony WF-1000XM5               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”‚  â­ 4.6 | â‚©359,000             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Bot: ì¶”ì²œë“œë¦´ê²Œìš”! ğŸ§     â”‚  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [ìƒí’ˆì¹´ë“œ1] [ìƒí’ˆì¹´ë“œ2]   â”‚  â”‚  â”‚  [ì¥ë°”êµ¬ë‹ˆ] [ê´€ì‹¬ìƒí’ˆ]         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  User: ì²«ë²ˆì§¸êº¼ ë¦¬ë·° ì•Œë ¤ì¤˜â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚  â”‚  Bot: ë¦¬ë·° ë¶„ì„ ê²°ê³¼...    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”‚       ì£¼ë¬¸ í˜„í™©                â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚                                  â”‚  â”‚  ğŸ“¦ ORD-A1B2C3D4               â”‚ â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  ìƒíƒœ: ğŸšš ë°°ì†¡ì¤‘               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ì…ë ¥ì°½                    â”‚  â”‚  â”‚  ì˜ˆìƒë„ì°©: 01/19               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [ë©”ì‹œì§€ ì…ë ¥...]    [ì „ì†¡]â”‚  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  [ìƒì„¸ë³´ê¸°] [ì·¨ì†Œìš”ì²­]         â”‚ â”‚   â”‚
â”‚  â”‚                                  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚  â”‚  ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼            â”‚  â”‚                                      â”‚   â”‚
â”‚  â”‚  â”‚  [ì¶”ì²œë°›ê¸°] [ë¹„êµí•˜ê¸°]     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  [ì£¼ë¬¸ì¡°íšŒ] [ìƒë‹´ì‚¬ì—°ê²°]   â”‚  â”‚  â”‚       ì¥ë°”êµ¬ë‹ˆ                 â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚  â”‚                                  â”‚  â”‚  â€¢ Sony WF-1000XM5 x1          â”‚ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  ì´ â‚©359,000                   â”‚ â”‚   â”‚
â”‚                                     â”‚  â”‚                                â”‚ â”‚   â”‚
â”‚                                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚                                     â”‚                                      â”‚   â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒí’ˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸

```python
# ui.py (Gradio ìƒí’ˆ ì¹´ë“œ)

def create_product_card(product: Product, reviews_summary: str = None) -> str:
    """ë§ˆí¬ë‹¤ìš´ í˜•ì‹ ìƒí’ˆ ì¹´ë“œ"""
    
    card = f"""
### {product.title}

![{product.title}]({product.image_url})

| í•­ëª© | ì •ë³´ |
|------|------|
| ë¸Œëœë“œ | {product.brand} |
| ê°€ê²© | â‚©{product.price:,.0f} |
| í‰ì  | â­ {product.avg_rating} ({product.review_count}ê°œ ë¦¬ë·°) |
| ì¹´í…Œê³ ë¦¬ | {product.category_main} |

{reviews_summary if reviews_summary else ""}

"""
    return card
```

---

## 8ï¸âƒ£ í‰ê°€ ê°€ì´ë“œ

### ìë™ í‰ê°€ ë©”íŠ¸ë¦­

```yaml
# í‰ê°€ í•­ëª©ë³„ ë©”íŠ¸ë¦­

1. ë¦¬ë·° ìš”ì•½ í’ˆì§ˆ:
   - ROUGE-L: 0.3 ì´ìƒ
   - BERTScore: 0.7 ì´ìƒ
   - í‚¤ì›Œë“œ ì»¤ë²„ë¦¬ì§€: ì£¼ìš” í‚¤ì›Œë“œ 80% í¬í•¨

2. ì¶”ì²œ í’ˆì§ˆ:
   - Recall@3: ì‹¤ì œ ì¸ê¸°ìƒí’ˆ í¬í•¨ë¥ 
   - MRR: ì²« ë²ˆì§¸ ì¶”ì²œì˜ ê´€ë ¨ì„±
   - ì¡°ê±´ ì¶©ì¡±ë¥ : ê°€ê²©/ì¹´í…Œê³ ë¦¬ ì¡°ê±´ ì¶©ì¡±

3. ì£¼ë¬¸ ì¡°íšŒ ì •í™•ë„:
   - ì •í™•ë„: Mock DBì™€ ì¼ì¹˜ìœ¨ 100% ëª©í‘œ

4. ì‘ë‹µ í’ˆì§ˆ (RAGAS):
   - Faithfulness: 0.8 ì´ìƒ
   - Relevance: 0.8 ì´ìƒ
   - Context Recall: 0.7 ì´ìƒ

5. ê°€ë“œë ˆì¼ íš¨ê³¼:
   - Injection ì°¨ë‹¨ìœ¨: 95% ì´ìƒ
   - Hallucination ê°ì§€ìœ¨: 80% ì´ìƒ
   - ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì ì ˆì„±: ìˆ˜ë™ ê²€í† 
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì˜ˆì‹œ

```python
# evaluation/test_cases.py

TEST_CASES = [
    # ìƒí’ˆ ê²€ìƒ‰
    {
        "input": "ì†Œë‹ˆ ë¬´ì„  ì´ì–´í° ì°¾ì•„ì¤˜",
        "expected_intent": "search",
        "expected_products_contain": ["Sony"],
        "expected_category": "audio"
    },
    
    # ë¦¬ë·° ìš”ì•½
    {
        "input": "WF-1000XM5 ë¦¬ë·° ìš”ì•½í•´ì¤˜",
        "expected_intent": "review",
        "expected_aspects": ["ë…¸ì´ì¦ˆìº”ìŠ¬ë§", "ìŒì§ˆ", "ê°€ê²©"],
        "min_rouge_l": 0.3
    },
    
    # ë¹„êµ
    {
        "input": "ì—ì–´íŒŸ í”„ë¡œ 2 vs ê°¤ëŸ­ì‹œ ë²„ì¦ˆ2 í”„ë¡œ ë¹„êµ",
        "expected_intent": "compare",
        "expected_products_count": 2,
        "expected_contains": ["ë¹„êµ", "ì¥ì ", "ë‹¨ì "]
    },
    
    # ì£¼ë¬¸ ì¡°íšŒ
    {
        "input": "ë‚´ ì£¼ë¬¸ ìƒíƒœ ì•Œë ¤ì¤˜",
        "expected_intent": "order",
        "expected_tool_calls": ["get_user_orders"],
        "expected_contains": ["ì£¼ë¬¸", "ìƒíƒœ"]
    },
    
    # ì—ìŠ¤ì»¬ë ˆì´ì…˜
    {
        "input": "3ë²ˆì´ë‚˜ ë¬¸ì˜í–ˆëŠ”ë° í™˜ë¶ˆ ì•ˆí•´ì¤˜ì„œ ë„ˆë¬´ í™”ê°€ ë‚˜",
        "expected_intent": "claim",
        "expected_escalation": True,
        "expected_contains": ["ìƒë‹´ì‚¬", "ì—°ê²°", "ì£„ì†¡"]
    }
]
```

---

## 9ï¸âƒ£ ê°œë°œ ë¡œë“œë§µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              10-WEEK ROADMAP                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 1-2: ë°ì´í„° ì¤€ë¹„                                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ Amazon Reviews ë‹¤ìš´ë¡œë“œ ë° ì „ì²˜ë¦¬                                           â”‚
â”‚  â–¡ Product Metadata ì •ì œ                                                       â”‚
â”‚  â–¡ Mock ì‚¬ìš©ì/ì£¼ë¬¸ ë°ì´í„° ìƒì„±                                                â”‚
â”‚  â–¡ ì •ì±… ë¬¸ì„œ ì‘ì„± (í™˜ë¶ˆ/ë°°ì†¡/FAQ)                                              â”‚
â”‚  â–¡ PostgreSQL ìŠ¤í‚¤ë§ˆ ìƒì„± ë° ë°ì´í„° ì ì¬                                       â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: Mock DB ë™ì‘ í™•ì¸                                                 â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 3-4: RAG & ì¸ë±ì‹±                                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ BGE-M3 ì„ë² ë”© íŒŒì´í”„ë¼ì¸                                                    â”‚
â”‚  â–¡ Qdrant ì»¬ë ‰ì…˜ ìƒì„± (reviews, products, features)                           â”‚
â”‚  â–¡ Elasticsearch BM25 ì¸ë±ìŠ¤                                                   â”‚
â”‚  â–¡ Hybrid Retriever êµ¬í˜„                                                       â”‚
â”‚  â–¡ Cross-Encoder Reranker í†µí•©                                                â”‚
â”‚  â–¡ ê²€ìƒ‰ í’ˆì§ˆ í…ŒìŠ¤íŠ¸                                                            â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: "ë…¸ìº” ì´ì–´í°" ê²€ìƒ‰ â†’ ê´€ë ¨ ìƒí’ˆ+ë¦¬ë·° ë°˜í™˜                          â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 4-5: LLM Fine-tuning                                                     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ í•™ìŠµ ë°ì´í„° êµ¬ì„± (ë¦¬ë·°ìš”ì•½, ë¹„êµ, ì¶”ì²œ, CS ëŒ€í™”)                            â”‚
â”‚  â–¡ Axolotl QLoRA ì„¤ì •                                                          â”‚
â”‚  â–¡ í•™ìŠµ ì‹¤í–‰ (Qwen2.5-7B, 2-3 epochs)                                         â”‚
â”‚  â–¡ í‰ê°€ ë° ì²´í¬í¬ì¸íŠ¸ ì„ íƒ                                                     â”‚
â”‚  â–¡ vLLM ì„œë¹™ ì„¤ì •                                                              â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: Fine-tuned ëª¨ë¸ ì¶”ë¡  í…ŒìŠ¤íŠ¸                                       â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 5-6: Agent í•µì‹¬ êµ¬í˜„                                                     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ AgentState ì •ì˜                                                             â”‚
â”‚  â–¡ Intent Classifier                                                           â”‚
â”‚  â–¡ Search Agent + Review Agent                                                 â”‚
â”‚  â–¡ Compare Agent + Recommend Agent                                             â”‚
â”‚  â–¡ LangGraph ì›Œí¬í”Œë¡œìš° ê¸°ë³¸ êµ¬ì„±                                              â”‚
â”‚  â–¡ Synthesizer êµ¬í˜„                                                            â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: ìƒí’ˆ ê²€ìƒ‰ â†’ ë¦¬ë·° ìš”ì•½ â†’ ì‘ë‹µ ìƒì„± ë™ì‘                            â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 7: Agent í™•ì¥ (ì£¼ë¬¸/CS)                                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ Order Agent (ì¡°íšŒ, ìƒíƒœ í™•ì¸)                                               â”‚
â”‚  â–¡ Claim Agent (ë¶ˆë§Œ ì²˜ë¦¬, ì •ì±… ì•ˆë‚´)                                          â”‚
â”‚  â–¡ Action Tools (ì¥ë°”êµ¬ë‹ˆ, ìœ„ì‹œë¦¬ìŠ¤íŠ¸, í‹°ì¼“)                                   â”‚
â”‚  â–¡ Reflector êµ¬í˜„                                                              â”‚
â”‚  â–¡ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ë¡œì§                                                           â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: ì£¼ë¬¸ì¡°íšŒ + í™˜ë¶ˆë¬¸ì˜ ì‹œë‚˜ë¦¬ì˜¤ ë™ì‘                                 â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 8: Guardrails                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ Input Guards (Injection, Topic, PII, Sentiment)                             â”‚
â”‚  â–¡ Output Guards (Hallucination, Grounding, Policy)                            â”‚
â”‚  â–¡ Guard Pipeline í†µí•©                                                         â”‚
â”‚  â–¡ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ê²€ì¦                                                        â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: ì•…ì˜ì  ì…ë ¥ ì°¨ë‹¨, í—ˆìœ„ ì •ë³´ ê°ì§€ ë™ì‘                             â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 9: UI & API                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ FastAPI ì„œë²„ (ì±„íŒ…, ê²€ìƒ‰, í”¼ë“œë°± ì—”ë“œí¬ì¸íŠ¸)                                â”‚
â”‚  â–¡ Gradio UI (ì±„íŒ… + ìƒí’ˆíŒ¨ë„ + ì£¼ë¬¸íŒ¨ë„)                                      â”‚
â”‚  â–¡ ìƒí’ˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸                                                          â”‚
â”‚  â–¡ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ                                                               â”‚
â”‚  â–¡ ì„¸ì…˜ ê´€ë¦¬                                                                   â”‚
â”‚                                                                                 â”‚
â”‚  Checkpoint: ì›¹ UIì—ì„œ ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ ë™ì‘                                      â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  Week 10: í‰ê°€ & ë§ˆë¬´ë¦¬                                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚  â–¡ ìë™ í‰ê°€ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•                                                   â”‚
â”‚  â–¡ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰ ë° ë¦¬í¬íŠ¸                                                â”‚
â”‚  â–¡ ì„±ëŠ¥ ìµœì í™” (ìºì‹±, ë°°ì¹˜)                                                    â”‚
â”‚  â–¡ ë¬¸ì„œí™” (README, API Docs, ì•„í‚¤í…ì²˜)                                        â”‚
â”‚  â–¡ Docker Compose ì •ë¦¬                                                         â”‚
â”‚  â–¡ ë°ëª¨ ì˜ìƒ ì œì‘                                                              â”‚
â”‚                                                                                 â”‚
â”‚  Final Output: PoC ì™„ì„± + í‰ê°€ ë¦¬í¬íŠ¸ + ë¬¸ì„œí™”                                 â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Ÿ Phase 2 ê³ ë„í™” ì˜µì…˜

```yaml
# Phase 2ì—ì„œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë“¤

1. ë©€í‹°ëª¨ë‹¬ (Vision):
   - LLaVA / Qwen-VL í†µí•©
   - "ì´ëŸ° ìŠ¤íƒ€ì¼ ì°¾ì•„ì¤˜" + ì´ë¯¸ì§€ ì—…ë¡œë“œ
   - ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„ ê¸°ë°˜ ì¶”ì²œ
   - GPU 2ì— ~8GB ì¶”ê°€ í•„ìš”

2. ê°œì¸í™” ê°•í™”:
   - êµ¬ë§¤ ì´ë ¥ ê¸°ë°˜ ì¶”ì²œ
   - ì„ í˜¸ë„ í•™ìŠµ (implicit feedback)
   - ëŒ€í™” ìŠ¤íƒ€ì¼ ì ì‘

3. ê³ ê¸‰ ê¸°ëŠ¥:
   - ê°€ê²© ì•Œë¦¼ ì„¤ì •
   - ì¬ì…ê³  ì•Œë¦¼
   - ìœ ì‚¬ ìƒí’ˆ ìë™ ì¶”ì²œ

4. A/B í…ŒìŠ¤íŠ¸:
   - ì‘ë‹µ ìŠ¤íƒ€ì¼ ë¹„êµ
   - ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ

5. ì‹¤ì„œë¹„ìŠ¤ ì¤€ë¹„:
   - ì‹¤ì œ API ì—°ë™ ì–´ëŒ‘í„°
   - ì¸ì¦/ê¶Œí•œ ì‹œìŠ¤í…œ
   - ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
```

---
