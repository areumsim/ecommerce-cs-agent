# LLM 설정 파일
# API 키는 환경변수로 설정하세요:
#   OPENAI_API_KEY, ANTHROPIC_API_KEY, GOOGLE_API_KEY

# 사용할 프로바이더 선택: openai | anthropic | google | local
provider: openai

# OpenAI 설정 (gpt-4o-mini: 가장 저렴한 GPT-4급 모델)
openai:
  api_key: "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"
  model: gpt-4o-mini
  temperature: 0.7
  max_tokens: 1024
  timeout: 30

# Anthropic (Claude) 설정
anthropic:
  api_key: "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"
  model: claude-3-haiku-20240307
  temperature: 0.7
  max_tokens: 1024
  timeout: 30

# 로컬 LLM 설정 (vLLM, Ollama 등)
local:
  base_url: http://localhost:8080/v1
  model: local-model
  temperature: 0.7
  max_tokens: 1024
  timeout: 60

# Google AI (Gemini) 설정 - 가장 저렴한 옵션
google:
  api_key: "AIzaSyDKB_IXahF3VhfuI3aK2eODnypE5wo_0Ng"
  model: gemini-1.5-flash
  temperature: 0.7
  max_tokens: 1024
  timeout: 30

# 시스템 프롬프트 경로
prompts:
  system: configs/prompts/system.txt
  order: configs/prompts/order.txt
  claim: configs/prompts/claim.txt
  policy: configs/prompts/policy.txt
  intent_classification: configs/prompts/intent_classification.txt

# 라우팅 규칙 (의도/카테고리별로 LLM 선택)
routing:
  enabled: true
  rules:
    - when:
        intents: ["policy", "claim", "order", "recommend"]
      provider: openai  # local → openai (로컬 LLM 서버 없음)
    - when:
        intents: ["general", "product_info", "unknown"]
      provider: openai
  fallback:
    provider: openai
    chain: ["openai", "anthropic", "google"]  # 폴백 체인: 순차적 시도
